/*! For license information please see 13db7f18455db3fb7403.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{202:function(e,n,t){"use strict";t(2),t(27),t(30),t(43);var r=t(3),o=t(0),a=Object.freeze(Object.defineProperties(["\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n"],{raw:{value:Object.freeze(["\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n"])}}));Object(r.a)({_template:Object(o.a)(a),is:"paper-item-body"})},204:function(e,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"a",function(){return i}),t(2);var r=t(54),o=t(1),a={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(e,n){n&&(e?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(e){this.closingReason=this.closingReason||{},this.closingReason.confirmed=e},_onDialogClick:function(e){for(var n=Object(o.b)(e).path,t=0,r=n.indexOf(this);t<r;t++){var a=n[t];if(a.hasAttribute&&(a.hasAttribute("dialog-dismiss")||a.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(a.hasAttribute("dialog-confirm")),this.close(),e.stopPropagation();break}}}},i=[r.a,a]},207:function(e,n,t){"use strict";t(2),t(27),t(30),t(43),t(64);var r=document.createElement("template");r.setAttribute("style","display: none;"),r.innerHTML='<dom-module id="paper-dialog-shared-styles">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was `:host > ::content h2`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(r.content)},214:function(e,n,t){"use strict";t(2);var r=t(96),o=t(204),a=(t(207),t(3)),i=t(0),s=Object.freeze(Object.defineProperties(['\n    <style include="paper-dialog-shared-styles"></style>\n    <slot></slot>\n'],{raw:{value:Object.freeze(['\n    <style include="paper-dialog-shared-styles"></style>\n    <slot></slot>\n'])}}));Object(a.a)({_template:Object(i.a)(s),is:"paper-dialog",behaviors:[o.a,r.a],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})},606:function(e,n,t){"use strict";t.r(n),t(160),t(159),t(158),t(202),t(122),t(55),t(125);var r=t(0),o=t(4),a=(t(138),t(123),t(14)),i=(t(214),t(127),function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()),s=Object.freeze(Object.defineProperties(["\n    <style include=\"ha-style\">\n      .error {\n        color: red;\n      }\n      .status {\n        color: var(--primary-color);\n      }\n      .error, .status {\n        position: absolute;\n        top: -4px;\n      }\n      paper-card {\n        display: block;\n      }\n      .currentPassword {\n        margin-top: -4px;\n      }\n    </style>\n    <div>\n      <paper-card heading=\"Change Password\">\n        <div class=\"card-content\">\n          <template is=\"dom-if\" if=\"[[_errorMsg]]\">\n            <div class='error'>[[_errorMsg]]</div>\n          </template>\n          <template is=\"dom-if\" if=\"[[_statusMsg]]\">\n            <div class=\"status\">[[_statusMsg]]</div>\n          </template>\n          <paper-input\n            class='currentPassword'\n            label='Current Password'\n            type='password'\n            value='{{_currentPassword}}'\n            required\n            auto-validate\n            error-message='Required'\n          ></paper-input>\n          <template is='dom-if' if='[[_currentPassword]]'>\n            <paper-input\n              label='New Password'\n              type='password'\n              value='{{_password1}}'\n              required\n              auto-validate\n              error-message='Required'\n            ></paper-input>\n            <paper-input\n              label='Confirm New Password'\n              type='password'\n              value='{{_password2}}'\n              required\n              auto-validate\n              error-message='Required'\n            ></paper-input>\n          </template>\n        </div>\n        <div class=\"card-actions\">\n          <template is=\"dom-if\" if=\"[[_loading]]\">\n            <div><paper-spinner active></paper-spinner></div>\n          </template>\n          <template is=\"dom-if\" if=\"[[!_loading]]\">\n            <paper-button on-click=\"_changePassword\">Submit</paper-button>\n          </template>\n        </div>\n      </paper-card>\n    </div>\n"],{raw:{value:Object.freeze(["\n    <style include=\"ha-style\">\n      .error {\n        color: red;\n      }\n      .status {\n        color: var(--primary-color);\n      }\n      .error, .status {\n        position: absolute;\n        top: -4px;\n      }\n      paper-card {\n        display: block;\n      }\n      .currentPassword {\n        margin-top: -4px;\n      }\n    </style>\n    <div>\n      <paper-card heading=\"Change Password\">\n        <div class=\"card-content\">\n          <template is=\"dom-if\" if=\"[[_errorMsg]]\">\n            <div class='error'>[[_errorMsg]]</div>\n          </template>\n          <template is=\"dom-if\" if=\"[[_statusMsg]]\">\n            <div class=\"status\">[[_statusMsg]]</div>\n          </template>\n          <paper-input\n            class='currentPassword'\n            label='Current Password'\n            type='password'\n            value='{{_currentPassword}}'\n            required\n            auto-validate\n            error-message='Required'\n          ></paper-input>\n          <template is='dom-if' if='[[_currentPassword]]'>\n            <paper-input\n              label='New Password'\n              type='password'\n              value='{{_password1}}'\n              required\n              auto-validate\n              error-message='Required'\n            ></paper-input>\n            <paper-input\n              label='Confirm New Password'\n              type='password'\n              value='{{_password2}}'\n              required\n              auto-validate\n              error-message='Required'\n            ></paper-input>\n          </template>\n        </div>\n        <div class=\"card-actions\">\n          <template is=\"dom-if\" if=\"[[_loading]]\">\n            <div><paper-spinner active></paper-spinner></div>\n          </template>\n          <template is=\"dom-if\" if=\"[[!_loading]]\">\n            <paper-button on-click=\"_changePassword\">Submit</paper-button>\n          </template>\n        </div>\n      </paper-card>\n    </div>\n"])}})),l=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o.a),i(n,[{key:"ready",value:function(){var e=this;(function e(n,t,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:e(a,t,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ready",this).call(this),this.addEventListener("keypress",function(n){e._statusMsg=null,13===n.keyCode&&e._changePassword()})}},{key:"_changePassword",value:(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._statusMsg=null,this._currentPassword&&this._password1&&this._password2){e.next=3;break}return e.abrupt("return");case 3:if(this._password1===this._password2){e.next=6;break}return this._errorMsg="New password confirmation doesn't match",e.abrupt("return");case 6:if(this._currentPassword!==this._password1){e.next=9;break}return this._errorMsg="New password must be different than current password",e.abrupt("return");case 9:return this._loading=!0,this._errorMsg=null,e.prev=11,e.next=14,this.hass.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:this._currentPassword,new_password:this._password1});case 14:this.setProperties({_statusMsg:"Password changed successfully",_currentPassword:null,_password1:null,_password2:null}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),this._errorMsg=e.t0.message;case 20:this._loading=!1;case 21:case"end":return e.stop()}},e,this,[[11,17]])}),a=function(){var e=t.apply(this,arguments);return new Promise(function(n,t){return function r(o,a){try{var i=e[o](a),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});n(s)}("next")})},function(){return a.apply(this,arguments)})}],[{key:"template",get:function(){return Object(r.a)(s)}},{key:"properties",get:function(){return{hass:Object,_loading:{type:Boolean,value:!1},_statusMsg:String,_errorMsg:String,_currentPassword:String,_password1:String,_password2:String}}}]),n;var t,a}();customElements.define("ha-change-password-card",l);var p=t(13),c=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=Object.freeze(Object.defineProperties(['\n    <style include="iron-flex ha-style">\n      .error {\n        color: red;\n      }\n      .status {\n        color: var(--primary-color);\n      }\n      .error, .status {\n        position: absolute;\n        top: -4px;\n      }\n      paper-card {\n        display: block;\n        max-width: 600px;\n        margin: 16px auto;\n      }\n      paper-button {\n        color: var(--primary-color);\n        font-weight: 500;\n        margin-right: -.57em;\n      }\n    </style>\n    <paper-card heading="Multi-factor Authentication Modules">\n      <template is="dom-repeat" items="[[mfaModules]]" as="module">\n        <paper-item>\n          <paper-item-body two-line="">\n            <div>[[module.name]]</div>\n            <div secondary="">[[module.id]]</div>\n          </paper-item-body>\n          <template is="dom-if" if="[[module.enabled]]">\n            <paper-button on-click="_disable">Disable</paper-button>\n          </template>\n          <template is="dom-if" if="[[!module.enabled]]">\n            <paper-button on-click="_enable">Enable</paper-button>\n          </template>\n        </paper-item>\n      </template>\n    </paper-card>\n'],{raw:{value:Object.freeze(['\n    <style include="iron-flex ha-style">\n      .error {\n        color: red;\n      }\n      .status {\n        color: var(--primary-color);\n      }\n      .error, .status {\n        position: absolute;\n        top: -4px;\n      }\n      paper-card {\n        display: block;\n        max-width: 600px;\n        margin: 16px auto;\n      }\n      paper-button {\n        color: var(--primary-color);\n        font-weight: 500;\n        margin-right: -.57em;\n      }\n    </style>\n    <paper-card heading="Multi-factor Authentication Modules">\n      <template is="dom-repeat" items="[[mfaModules]]" as="module">\n        <paper-item>\n          <paper-item-body two-line="">\n            <div>[[module.name]]</div>\n            <div secondary="">[[module.id]]</div>\n          </paper-item-body>\n          <template is="dom-if" if="[[module.enabled]]">\n            <paper-button on-click="_disable">Disable</paper-button>\n          </template>\n          <template is="dom-if" if="[[!module.enabled]]">\n            <paper-button on-click="_enable">Enable</paper-button>\n          </template>\n        </paper-item>\n      </template>\n    </paper-card>\n'])}})),d=!1,h=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,Object(a.a)(Object(p.a)(o.a))),c(n,[{key:"connectedCallback",value:function(){(function e(n,t,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:e(a,t,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this),d||(d=!0,this.fire("register-dialog",{dialogShowEvent:"show-mfa-module-setup-flow",dialogTag:"ha-mfa-module-setup-flow",dialogImport:function(){return t.e(47).then(t.bind(null,618))}}))}},{key:"_enable",value:function(e){var n=this;this.fire("show-mfa-module-setup-flow",{hass:this.hass,mfaModuleId:e.model.module.id,dialogClosedCallback:function(){return n._refreshCurrentUser()}})}},{key:"_disable",value:function(e){var n=this;if(confirm("Are you sure you want to disable "+e.model.module.name+"?")){var t=e.model.module.id;this.hass.callWS({type:"auth/depose_mfa",mfa_module_id:t}).then(function(){n._refreshCurrentUser()})}}},{key:"_refreshCurrentUser",value:function(){this.fire("hass-refresh-current-user")}}],[{key:"template",get:function(){return Object(r.a)(u)}},{key:"properties",get:function(){return{hass:Object,_loading:{type:Boolean,value:!1},_statusMsg:String,_errorMsg:String,mfaModules:Array}}}]),n}();customElements.define("ha-mfa-modules-card",h),t(126),t(124);var f=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),m=Object.freeze(Object.defineProperties(['\n    <style>\n      :host {\n        display: flex;\n        padding: 0 16px;\n        align-content: normal;\n        align-self: auto;\n        align-items: center;\n      }\n      :host([narrow]) {\n        align-items: normal;\n        flex-direction: column;\n        border-top: 1px solid var(--divider-color);\n        padding-bottom: 8px;\n      }\n      paper-item-body {\n        padding-right: 16px;\n      }\n    </style>\n    <paper-item-body two-line>\n      <slot name="heading"></slot>\n      <div secondary><slot name="description"></slot></div>\n    </paper-item-body>\n    <slot></slot>\n    '],{raw:{value:Object.freeze(['\n    <style>\n      :host {\n        display: flex;\n        padding: 0 16px;\n        align-content: normal;\n        align-self: auto;\n        align-items: center;\n      }\n      :host([narrow]) {\n        align-items: normal;\n        flex-direction: column;\n        border-top: 1px solid var(--divider-color);\n        padding-bottom: 8px;\n      }\n      paper-item-body {\n        padding-right: 16px;\n      }\n    </style>\n    <paper-item-body two-line>\n      <slot name="heading"></slot>\n      <div secondary><slot name="description"></slot></div>\n    </paper-item-body>\n    <slot></slot>\n    '])}})),b=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o.a),f(n,null,[{key:"template",get:function(){return Object(r.a)(m)}},{key:"properties",get:function(){return{narrow:{type:Boolean,reflectToAttribute:!0}}}}]),n}();customElements.define("ha-settings-row",b);var y=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),g=Object.freeze(Object.defineProperties(["\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.language.header')]]</span>\n      <span slot='description'>\n        <a\n          href='https://developers.home-assistant.io/docs/en/internationalization_translation.html'\n          target='_blank'>[[localize('ui.panel.profile.language.link_promo')]]</a>\n      </span>\n      <paper-dropdown-menu label=\"[[localize('ui.panel.profile.language.dropdown_label')]]\" dynamic-align=\"\">\n        <paper-listbox slot=\"dropdown-content\" attr-for-selected=\"language-tag\" selected=\"{{languageSelection}}\">\n          <template is=\"dom-repeat\" items=\"[[languages]]\">\n            <paper-item language-tag$=\"[[item.tag]]\">[[item.nativeName]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </ha-settings-row>\n    "],{raw:{value:Object.freeze(["\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.language.header')]]</span>\n      <span slot='description'>\n        <a\n          href='https://developers.home-assistant.io/docs/en/internationalization_translation.html'\n          target='_blank'>[[localize('ui.panel.profile.language.link_promo')]]</a>\n      </span>\n      <paper-dropdown-menu label=\"[[localize('ui.panel.profile.language.dropdown_label')]]\" dynamic-align=\"\">\n        <paper-listbox slot=\"dropdown-content\" attr-for-selected=\"language-tag\" selected=\"{{languageSelection}}\">\n          <template is=\"dom-repeat\" items=\"[[languages]]\">\n            <paper-item language-tag$=\"[[item.tag]]\">[[item.nativeName]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </ha-settings-row>\n    "])}})),w=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,Object(p.a)(Object(a.a)(o.a))),y(n,[{key:"computeLanguages",value:function(e){return e&&e.translationMetadata?Object.keys(e.translationMetadata.translations).map(function(n){return{tag:n,nativeName:e.translationMetadata.translations[n].nativeName}}):[]}},{key:"setLanguageSelection",value:function(e){this.languageSelection=e}},{key:"languageSelectionChanged",value:function(e){e!==this.language&&this.fire("hass-language-select",{language:e})}}],[{key:"template",get:function(){return Object(r.a)(g)}},{key:"properties",get:function(){return{hass:Object,narrow:Boolean,languageSelection:{type:String,observer:"languageSelectionChanged"},languages:{type:Array,computed:"computeLanguages(hass)"}}}},{key:"observers",get:function(){return["setLanguageSelection(language)"]}}]),n}();customElements.define("ha-pick-language-row",w);var v=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),_=Object.freeze(Object.defineProperties(["\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.themes.header')]]</span>\n      <span slot='description'>\n        <template is='dom-if' if='[[!_hasThemes]]'>\n        [[localize('ui.panel.profile.themes.error_no_theme')]]\n        </template>\n        <a\n          href='https://www.home-assistant.io/components/frontend/#defining-themes'\n          target='_blank'>[[localize('ui.panel.profile.themes.link_promo')]]</a>\n      </span>\n      <paper-dropdown-menu\n        label=\"[[localize('ui.panel.profile.themes.dropdown_label')]]\"\n        dynamic-align\n        disabled='[[!_hasThemes]]'\n      >\n        <paper-listbox slot=\"dropdown-content\" selected=\"{{selectedTheme}}\">\n          <template is=\"dom-repeat\" items=\"[[themes]]\" as=\"theme\">\n            <paper-item>[[theme]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </ha-settings-row>\n    "],{raw:{value:Object.freeze(["\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.themes.header')]]</span>\n      <span slot='description'>\n        <template is='dom-if' if='[[!_hasThemes]]'>\n        [[localize('ui.panel.profile.themes.error_no_theme')]]\n        </template>\n        <a\n          href='https://www.home-assistant.io/components/frontend/#defining-themes'\n          target='_blank'>[[localize('ui.panel.profile.themes.link_promo')]]</a>\n      </span>\n      <paper-dropdown-menu\n        label=\"[[localize('ui.panel.profile.themes.dropdown_label')]]\"\n        dynamic-align\n        disabled='[[!_hasThemes]]'\n      >\n        <paper-listbox slot=\"dropdown-content\" selected=\"{{selectedTheme}}\">\n          <template is=\"dom-repeat\" items=\"[[themes]]\" as=\"theme\">\n            <paper-item>[[theme]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </ha-settings-row>\n    "])}})),O=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,Object(p.a)(Object(a.a)(o.a))),v(n,[{key:"_compHasThemes",value:function(e){return e.themes&&e.themes.themes&&Object.keys(e.themes.themes).length}},{key:"ready",value:function(){(function e(n,t,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:e(a,t,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ready",this).call(this),this.hass.selectedTheme&&this.themes.indexOf(this.hass.selectedTheme)>0?this.selectedTheme=this.themes.indexOf(this.hass.selectedTheme):this.hass.selectedTheme||(this.selectedTheme=0)}},{key:"_computeThemes",value:function(e){return e?["Backend-selected","default"].concat(Object.keys(e.themes.themes).sort()):[]}},{key:"selectionChanged",value:function(e,n){n>0&&n<this.themes.length?e.selectedTheme!==this.themes[n]&&this.fire("settheme",this.themes[n]):0===n&&""!==e.selectedTheme&&this.fire("settheme","")}}],[{key:"template",get:function(){return Object(r.a)(_)}},{key:"properties",get:function(){return{hass:Object,narrow:Boolean,_hasThemes:{type:Boolean,computed:"_compHasThemes(hass)"},themes:{type:Array,computed:"_computeThemes(hass)"},selectedTheme:{type:Number}}}},{key:"observers",get:function(){return["selectionChanged(hass, selectedTheme)"]}}]),n}();customElements.define("ha-pick-theme-row",O),t(31),t(2);var k=t(3),j=t(1),x=Object(k.a)({is:"iron-label",listeners:{tap:"_tapHandler"},properties:{for:{type:String,value:"",reflectToAttribute:!0,observer:"_forChanged"},_forElement:Object},attached:function(){this._forChanged()},ready:function(){this._generateLabelId()},_generateLabelId:function(){if(!this.id){var e="iron-label-"+x._labelNumber++;Object(j.b)(this).setAttribute("id",e)}},_findTarget:function(){if(this.for){var e=Object(j.b)(this).getOwnerRoot();return Object(j.b)(e).querySelector("#"+this.for)}var n=Object(j.b)(this).querySelector("[iron-label-target]");return n||(n=Object(j.b)(this).firstElementChild),n},_tapHandler:function(e){this._forElement&&Object(j.b)(e).localTarget!==this._forElement&&(this._forElement.focus(),this._forElement.click())},_applyLabelledBy:function(){this._forElement&&Object(j.b)(this._forElement).setAttribute("aria-labelledby",this.id)},_forChanged:function(){this._forElement&&Object(j.b)(this._forElement).removeAttribute("aria-labelledby"),this._forElement=this._findTarget(),this._applyLabelledBy()}});x._labelNumber=0;var P=t(139),C=(t(164),function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()),E=function e(n,t,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:e(a,t,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0},T=Object.freeze(Object.defineProperties(['\n    <paper-toggle-button\n      disabled="[[_compDisabled(disabled, loading)]]"\n      checked="{{pushChecked}}"\n    ></paper-toggle-button>\n'],{raw:{value:Object.freeze(['\n    <paper-toggle-button\n      disabled="[[_compDisabled(disabled, loading)]]"\n      checked="{{pushChecked}}"\n    ></paper-toggle-button>\n'])}}));function z(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){return function r(o,a){try{var i=n[o](a),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var M="serviceWorker"in navigator&&"PushManager"in window&&("https:"===document.location.protocol||"localhost"===document.location.hostname||"127.0.0.1"===document.location.hostname),S=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,Object(a.a)(o.a)),C(n,[{key:"connectedCallback",value:(s=z(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this),M){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,navigator.serviceWorker.ready;case 6:if((t=e.sent).pushManager){e.next=9;break}return e.abrupt("return");case 9:t.pushManager.getSubscription().then(function(e){r.loading=!1,r.pushChecked=!!e}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}},e,this,[[3,12]])})),function(){return s.apply(this,arguments)})},{key:"handlePushChange",value:function(e){M&&(e?this.subscribePushNotifications():this.unsubscribePushNotifications())}},{key:"subscribePushNotifications",value:(i=z(regeneratorRuntime.mark(function e(){var n,t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return n=e.sent,e.prev=3,e.next=6,n.pushManager.subscribe({userVisibleOnly:!0});case 6:return t=e.sent,r=void 0,r=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?"firefox":"chrome",e.next=11,this.hass.callApi("POST","notify.html5",{subscription:t,browser:r});case 11:e.next=19;break;case 13:e.prev=13,e.t0=e.catch(3),o=e.t0.message||"Notification registration failed.",console.error(e.t0),this.fire("hass-notification",{message:o}),this.pushChecked=!1;case 19:case"end":return e.stop()}},e,this,[[3,13]])})),function(){return i.apply(this,arguments)})},{key:"unsubscribePushNotifications",value:(t=z(regeneratorRuntime.mark(function e(){var n,t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return n=e.sent,e.prev=3,e.next=6,n.pushManager.getSubscription();case 6:if(t=e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.hass.callApi("DELETE","notify.html5",{subscription:t});case 11:return e.next=13,t.unsubscribe();case 13:e.next=21;break;case 15:e.prev=15,e.t0=e.catch(3),r=e.t0.message||"Failed unsubscribing for push notifications.",console.error("Error in unsub push",e.t0),this.fire("hass-notification",{message:r}),this.pushChecked=!0;case 21:case"end":return e.stop()}},e,this,[[3,15]])})),function(){return t.apply(this,arguments)})},{key:"_compDisabled",value:function(e,n){return e||n}}],[{key:"template",get:function(){return Object(r.a)(T)}},{key:"properties",get:function(){return{hass:{type:Object,value:null},disabled:{type:Boolean,value:!1},pushChecked:{type:Boolean,value:"Notification"in window&&"granted"===Notification.permission,observer:"handlePushChange"},loading:{type:Boolean,value:!0}}}}]),n;var t,i,s}();customElements.define("ha-push-notifications-toggle",S);var R=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),A=Object.freeze(Object.defineProperties(["\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.push_notifications.header')]]</span>\n      <span\n        slot='description'\n      >\n        [[_description(_platformLoaded, _pushSupported)]]\n        <a\n          href='https://www.home-assistant.io/components/notify.html5/'\n          target='_blank'>[[localize('ui.panel.profile.push_notifications.link_promo')]]</a>\n      </span>\n      <ha-push-notifications-toggle\n        hass=\"[[hass]]\"\n        disabled='[[_error]]'\n      ></ha-push-notifications-toggle>\n    </ha-settings-row>\n    "],{raw:{value:Object.freeze(["\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.push_notifications.header')]]</span>\n      <span\n        slot='description'\n      >\n        [[_description(_platformLoaded, _pushSupported)]]\n        <a\n          href='https://www.home-assistant.io/components/notify.html5/'\n          target='_blank'>[[localize('ui.panel.profile.push_notifications.link_promo')]]</a>\n      </span>\n      <ha-push-notifications-toggle\n        hass=\"[[hass]]\"\n        disabled='[[_error]]'\n      ></ha-push-notifications-toggle>\n    </ha-settings-row>\n    "])}})),B=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,Object(p.a)(o.a)),R(n,[{key:"_compPlatformLoaded",value:function(e){return Object(P.a)(e,"notify.html5")}},{key:"_compError",value:function(e,n){return!e||!n}},{key:"_description",value:function(e,n){var t;return t=n?e?"description":"error_load_platform":"error_use_https",this.localize("ui.panel.profile.push_notifications."+t)}}],[{key:"template",get:function(){return Object(r.a)(A)}},{key:"properties",get:function(){return{hass:Object,narrow:Boolean,_platformLoaded:{type:Boolean,computed:"_compPlatformLoaded(hass)"},_pushSupported:{type:Boolean,value:M},_error:{type:Boolean,computed:"_compError(_platformLoaded, _pushSupported)"}}}}]),n}();customElements.define("ha-push-notifications-row",B);var N=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),L=Object.freeze(Object.defineProperties(["\n    <style include=\"ha-style\">\n      :host {\n        -ms-user-select: initial;\n        -webkit-user-select: initial;\n        -moz-user-select: initial;\n      }\n\n      .content {\n        display: block;\n        max-width: 600px;\n        margin: 0 auto;\n      }\n\n      .content > * {\n        display: block;\n        margin: 24px 0;\n      }\n    </style>\n\n    <app-header-layout has-scrolling-region>\n      <app-header slot=\"header\" fixed>\n        <app-toolbar>\n          <ha-menu-button narrow='[[narrow]]' show-menu='[[showMenu]]'></ha-menu-button>\n          <div main-title>Profile</div>\n        </app-toolbar>\n      </app-header>\n\n      <div class='content'>\n        <paper-card heading='[[hass.user.name]]'>\n          <div class='card-content'>\n            You are currently logged in as [[hass.user.name]].\n            <template is='dom-if' if='[[hass.user.is_owner]]'>You are an owner.</template>\n          </div>\n\n          <ha-pick-language-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-pick-language-row>\n          <ha-pick-theme-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-pick-theme-row>\n          <ha-push-notifications-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-push-notifications-row>\n\n          <div class='card-actions'>\n            <paper-button\n              class='warning'\n              on-click='_handleLogOut'\n            >Log out</paper-button>\n          </div>\n        </paper-card>\n\n        <template is=\"dom-if\" if=\"[[_canChangePassword(hass.user)]]\">\n          <ha-change-password-card hass=\"[[hass]]\"></ha-change-password-card>\n        </template>\n\n        <ha-mfa-modules-card hass='[[hass]]' mfa-modules='[[hass.user.mfa_modules]]'></ha-mfa-modules-card>\n      </div>\n    </app-header-layout>\n    "],{raw:{value:Object.freeze(["\n    <style include=\"ha-style\">\n      :host {\n        -ms-user-select: initial;\n        -webkit-user-select: initial;\n        -moz-user-select: initial;\n      }\n\n      .content {\n        display: block;\n        max-width: 600px;\n        margin: 0 auto;\n      }\n\n      .content > * {\n        display: block;\n        margin: 24px 0;\n      }\n    </style>\n\n    <app-header-layout has-scrolling-region>\n      <app-header slot=\"header\" fixed>\n        <app-toolbar>\n          <ha-menu-button narrow='[[narrow]]' show-menu='[[showMenu]]'></ha-menu-button>\n          <div main-title>Profile</div>\n        </app-toolbar>\n      </app-header>\n\n      <div class='content'>\n        <paper-card heading='[[hass.user.name]]'>\n          <div class='card-content'>\n            You are currently logged in as [[hass.user.name]].\n            <template is='dom-if' if='[[hass.user.is_owner]]'>You are an owner.</template>\n          </div>\n\n          <ha-pick-language-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-pick-language-row>\n          <ha-pick-theme-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-pick-theme-row>\n          <ha-push-notifications-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-push-notifications-row>\n\n          <div class='card-actions'>\n            <paper-button\n              class='warning'\n              on-click='_handleLogOut'\n            >Log out</paper-button>\n          </div>\n        </paper-card>\n\n        <template is=\"dom-if\" if=\"[[_canChangePassword(hass.user)]]\">\n          <ha-change-password-card hass=\"[[hass]]\"></ha-change-password-card>\n        </template>\n\n        <ha-mfa-modules-card hass='[[hass]]' mfa-modules='[[hass.user.mfa_modules]]'></ha-mfa-modules-card>\n      </div>\n    </app-header-layout>\n    "])}})),q=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,Object(a.a)(o.a)),N(n,[{key:"_handleLogOut",value:function(){this.fire("hass-logout")}},{key:"_canChangePassword",value:function(e){return e.credentials.some(function(e){return"homeassistant"===e.auth_provider_type})}}],[{key:"template",get:function(){return Object(r.a)(L)}},{key:"properties",get:function(){return{hass:Object,narrow:Boolean,showMenu:Boolean}}}]),n}();customElements.define("ha-panel-profile",q)}}]);
//# sourceMappingURL=13db7f18455db3fb7403.chunk.js.map