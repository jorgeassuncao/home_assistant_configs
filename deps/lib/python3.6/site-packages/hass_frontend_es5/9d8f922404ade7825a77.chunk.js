/*! For license information please see 9d8f922404ade7825a77.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{162:function(e,t,n){"use strict";n(132);var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=customElements.get("paper-slider"),i=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),a(t,null,[{key:"template",get:function(){var e=document.createElement("template");e.innerHTML=o.template.innerHTML;var t=e.content.querySelector("style");return t.setAttribute("include","paper-slider"),t.innerHTML="\n      .pin > .slider-knob > .slider-knob-inner {\n        font-size:  var(--ha-paper-slider-pin-font-size, 10px);\n        line-height: normal;\n      }\n\n      .pin > .slider-knob > .slider-knob-inner::before {\n        top: unset;\n        margin-left: unset;\n\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n        left: 50%;\n        width: 2.2em;\n        height: 2.2em;\n\n        -webkit-transform-origin: left bottom;\n        transform-origin: left bottom;\n        -webkit-transform: rotate(-45deg) scale(0) translate(0);\n        transform: rotate(-45deg) scale(0) translate(0);\n      }\n\n      .pin.expand > .slider-knob > .slider-knob-inner::before {\n        -webkit-transform: rotate(-45deg) scale(1) translate(7px, -7px);\n        transform: rotate(-45deg) scale(1) translate(7px, -7px);\n      }\n\n      .pin > .slider-knob > .slider-knob-inner::after {\n        top: unset;\n        font-size: unset;\n\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n        left: 50%;\n        margin-left: -1.1em;\n        width: 2.2em;\n        height: 2.1em;\n\n        -webkit-transform-origin: center bottom;\n        transform-origin: center bottom;\n        -webkit-transform: scale(0) translate(0);\n        transform: scale(0) translate(0);\n      }\n\n      .pin.expand > .slider-knob > .slider-knob-inner::after {\n        -webkit-transform: scale(1) translate(0, -10px);\n        transform: scale(1) translate(0, -10px);\n      }\n    ",e}}]),t}();customElements.define("ha-paper-slider",i)},166:function(e,t,n){"use strict";n(128),n(126),n(63),n(57),n(122),n(124);var a=n(0),o=n(4),i=(n(162),n(14)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=Object.freeze(Object.defineProperties(['\n    <style>\n      .error {\n        color: red;\n      }\n    </style>\n    <template is="dom-if" if="[[_isArray(schema)]]" restamp="">\n      <template is="dom-if" if="[[error.base]]">\n          <div class=\'error\'>[[computeError(error.base, schema)]]</div>\n      </template>\n\n      <template is="dom-repeat" items="[[schema]]">\n        <ha-form data="[[_getValue(data, item)]]" schema="[[item]]" error="[[_getValue(error, item)]]" on-data-changed="_valueChanged" compute-label="[[computeLabel]]" compute-error="[[computeError]]"></ha-form>\n      </template>\n    </template>\n    <template is="dom-if" if="[[!_isArray(schema)]]" restamp="">\n      <template is="dom-if" if="[[error]]">\n        <div class="error">[[computeError(error, schema)]]</div>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;string&quot;)]]" restamp="">\n        <template is="dom-if" if="[[_includes(schema.name, &quot;password&quot;)]]" restamp="">\n          <paper-input\n            type="[[_passwordFieldType(unmaskedPassword)]]"\n            label="[[computeLabel(schema)]]"\n            value="{{data}}"\n            required="[[schema.required]]"\n            auto-validate="[[schema.required]]"\n            error-message=\'Required\'\n          >\n            <paper-icon-button toggles\n              active="{{unmaskedPassword}}"\n              slot="suffix"\n              icon="[[_passwordFieldIcon(unmaskedPassword)]]"\n              id="iconButton"\n              title="Click to toggle between masked and clear password">\n            </paper-icon-button>\n          </paper-input>\n        </template>\n        <template is="dom-if" if="[[!_includes(schema.name, &quot;password&quot;)]]" restamp="">\n          <paper-input\n            label="[[computeLabel(schema)]]"\n            value="{{data}}"\n            required="[[schema.required]]"\n            auto-validate="[[schema.required]]"\n            error-message=\'Required\'\n          ></paper-input>\n        </template>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;integer&quot;)]]" restamp="">\n        <template is="dom-if" if="[[_isRange(schema)]]" restamp="">\n          <div>\n            [[computeLabel(schema)]]\n            <ha-paper-slider pin="" value="{{data}}" min="[[schema.valueMin]]" max="[[schema.valueMax]]"></ha-paper-slider>\n          </div>\n        </template>\n        <template is="dom-if" if="[[!_isRange(schema)]]" restamp="">\n          <paper-input\n            label="[[computeLabel(schema)]]"\n            value="{{data}}"\n            type="number"\n            required="[[schema.required]]"\n            auto-validate="[[schema.required]]"\n            error-message=\'Required\'\n          ></paper-input>\n        </template>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;float&quot;)]]" restamp="">\n        \x3c!--TODO--\x3e\n        <paper-input\n          label="[[computeLabel(schema)]]"\n          value="{{data}}"\n          required="[[schema.required]]"\n          auto-validate="[[schema.required]]"\n          error-message=\'Required\'\n        ></paper-input>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;boolean&quot;)]]" restamp="">\n        <paper-checkbox checked="{{data}}">[[computeLabel(schema)]]</paper-checkbox>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;select&quot;)]]" restamp="">\n        <paper-dropdown-menu label="[[computeLabel(schema)]]">\n          <paper-listbox slot="dropdown-content" attr-for-selected="item-name" selected="{{data}}">\n            <template is="dom-repeat" items="[[schema.options]]">\n              <paper-item item-name$="[[_optionValue(item)]]">[[_optionLabel(item)]]</paper-item>\n            </template>\n          </paper-listbox>\n        </paper-dropdown-menu>\n      </template>\n\n    </template>\n'],{raw:{value:Object.freeze(['\n    <style>\n      .error {\n        color: red;\n      }\n    </style>\n    <template is="dom-if" if="[[_isArray(schema)]]" restamp="">\n      <template is="dom-if" if="[[error.base]]">\n          <div class=\'error\'>[[computeError(error.base, schema)]]</div>\n      </template>\n\n      <template is="dom-repeat" items="[[schema]]">\n        <ha-form data="[[_getValue(data, item)]]" schema="[[item]]" error="[[_getValue(error, item)]]" on-data-changed="_valueChanged" compute-label="[[computeLabel]]" compute-error="[[computeError]]"></ha-form>\n      </template>\n    </template>\n    <template is="dom-if" if="[[!_isArray(schema)]]" restamp="">\n      <template is="dom-if" if="[[error]]">\n        <div class="error">[[computeError(error, schema)]]</div>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;string&quot;)]]" restamp="">\n        <template is="dom-if" if="[[_includes(schema.name, &quot;password&quot;)]]" restamp="">\n          <paper-input\n            type="[[_passwordFieldType(unmaskedPassword)]]"\n            label="[[computeLabel(schema)]]"\n            value="{{data}}"\n            required="[[schema.required]]"\n            auto-validate="[[schema.required]]"\n            error-message=\'Required\'\n          >\n            <paper-icon-button toggles\n              active="{{unmaskedPassword}}"\n              slot="suffix"\n              icon="[[_passwordFieldIcon(unmaskedPassword)]]"\n              id="iconButton"\n              title="Click to toggle between masked and clear password">\n            </paper-icon-button>\n          </paper-input>\n        </template>\n        <template is="dom-if" if="[[!_includes(schema.name, &quot;password&quot;)]]" restamp="">\n          <paper-input\n            label="[[computeLabel(schema)]]"\n            value="{{data}}"\n            required="[[schema.required]]"\n            auto-validate="[[schema.required]]"\n            error-message=\'Required\'\n          ></paper-input>\n        </template>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;integer&quot;)]]" restamp="">\n        <template is="dom-if" if="[[_isRange(schema)]]" restamp="">\n          <div>\n            [[computeLabel(schema)]]\n            <ha-paper-slider pin="" value="{{data}}" min="[[schema.valueMin]]" max="[[schema.valueMax]]"></ha-paper-slider>\n          </div>\n        </template>\n        <template is="dom-if" if="[[!_isRange(schema)]]" restamp="">\n          <paper-input\n            label="[[computeLabel(schema)]]"\n            value="{{data}}"\n            type="number"\n            required="[[schema.required]]"\n            auto-validate="[[schema.required]]"\n            error-message=\'Required\'\n          ></paper-input>\n        </template>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;float&quot;)]]" restamp="">\n        \x3c!--TODO--\x3e\n        <paper-input\n          label="[[computeLabel(schema)]]"\n          value="{{data}}"\n          required="[[schema.required]]"\n          auto-validate="[[schema.required]]"\n          error-message=\'Required\'\n        ></paper-input>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;boolean&quot;)]]" restamp="">\n        <paper-checkbox checked="{{data}}">[[computeLabel(schema)]]</paper-checkbox>\n      </template>\n\n      <template is="dom-if" if="[[_equals(schema.type, &quot;select&quot;)]]" restamp="">\n        <paper-dropdown-menu label="[[computeLabel(schema)]]">\n          <paper-listbox slot="dropdown-content" attr-for-selected="item-name" selected="{{data}}">\n            <template is="dom-repeat" items="[[schema.options]]">\n              <paper-item item-name$="[[_optionValue(item)]]">[[_optionLabel(item)]]</paper-item>\n            </template>\n          </paper-listbox>\n        </paper-dropdown-menu>\n      </template>\n\n    </template>\n'])}})),l=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Object(i.a)(o.a)),r(t,[{key:"_isArray",value:function(e){return Array.isArray(e)}},{key:"_isRange",value:function(e){return"valueMin"in e&&"valueMax"in e}},{key:"_equals",value:function(e,t){return e===t}},{key:"_includes",value:function(e,t){return e.indexOf(t)>=0}},{key:"_getValue",value:function(e,t){return e?e[t.name]:null}},{key:"_valueChanged",value:function(e){this.set(["data",e.model.item.name],e.detail.value)}},{key:"_passwordFieldType",value:function(e){return e?"text":"password"}},{key:"_passwordFieldIcon",value:function(e){return e?"hass:eye-off":"hass:eye"}},{key:"_optionValue",value:function(e){return Array.isArray(e)?e[0]:e}},{key:"_optionLabel",value:function(e){return Array.isArray(e)?e[1]:e}}],[{key:"template",get:function(){return Object(a.a)(s)}},{key:"properties",get:function(){return{data:{type:Object,notify:!0},schema:Object,error:Object,computeLabel:{type:Function,value:function(){return function(e){return e&&e.name}}},computeError:{type:Function,value:function(){return function(e,t){return e}}}}}}]),t}();customElements.define("ha-form",l)},204:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n(2);var a=n(54),o=n(1),i={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(e,t){t&&(e?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(e){this.closingReason=this.closingReason||{},this.closingReason.confirmed=e},_onDialogClick:function(e){for(var t=Object(o.b)(e).path,n=0,a=t.indexOf(this);n<a;n++){var i=t[n];if(i.hasAttribute&&(i.hasAttribute("dialog-dismiss")||i.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(i.hasAttribute("dialog-confirm")),this.close(),e.stopPropagation();break}}}},r=[a.a,i]},207:function(e,t,n){"use strict";n(2),n(27),n(30),n(43),n(64);var a=document.createElement("template");a.setAttribute("style","display: none;"),a.innerHTML='<dom-module id="paper-dialog-shared-styles">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was `:host > ::content h2`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(a.content)},214:function(e,t,n){"use strict";n(2);var a=n(96),o=n(204),i=(n(207),n(3)),r=n(0),s=Object.freeze(Object.defineProperties(['\n    <style include="paper-dialog-shared-styles"></style>\n    <slot></slot>\n'],{raw:{value:Object.freeze(['\n    <style include="paper-dialog-shared-styles"></style>\n    <slot></slot>\n'])}}));Object(i.a)({_template:Object(r.a)(s),is:"paper-dialog",behaviors:[o.a,a.a],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})},224:function(e,t,n){"use strict";n(2),n(27);var a=n(204),o=(n(30),n(3)),i=n(0),r=Object.freeze(Object.defineProperties(['\n    <style>\n\n      :host {\n        display: block;\n        @apply --layout-relative;\n      }\n\n      :host(.is-scrolled:not(:first-child))::before {\n        content: \'\';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {\n        content: \'\';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      .scrollable {\n        padding: 0 24px;\n\n        @apply --layout-scroll;\n        @apply --paper-dialog-scrollable;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n    </style>\n\n    <div id="scrollable" class="scrollable" on-scroll="updateScrollState">\n      <slot></slot>\n    </div>\n'],{raw:{value:Object.freeze(['\n    <style>\n\n      :host {\n        display: block;\n        @apply --layout-relative;\n      }\n\n      :host(.is-scrolled:not(:first-child))::before {\n        content: \'\';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {\n        content: \'\';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      .scrollable {\n        padding: 0 24px;\n\n        @apply --layout-scroll;\n        @apply --paper-dialog-scrollable;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n    </style>\n\n    <div id="scrollable" class="scrollable" on-scroll="updateScrollState">\n      <slot></slot>\n    </div>\n'])}}));Object(o.a)({_template:Object(i.a)(r),is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget(),this.classList.add("no-padding")},attached:function(){this._ensureTarget(),requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass("is-scrolled",this.scrollTarget.scrollTop>0),this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight),this.toggleClass("scrolled-to-bottom",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){this.dialogElement=this.dialogElement||this.parentElement,this.dialogElement&&this.dialogElement.behaviors&&this.dialogElement.behaviors.indexOf(a.b)>=0?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove("fit")):this.dialogElement&&this.scrollTarget.classList.add("fit")}})},631:function(e,t,n){"use strict";n.r(t),n(55),n(224),n(214),n(127);var a=n(0),o=n(4),i=(n(166),n(129),n(123),n(14)),r=n(13),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=Object.freeze(Object.defineProperties(['\n    <style include="ha-style-dialog">\n      .error {\n        color: red;\n      }\n      paper-dialog {\n        max-width: 500px;\n      }\n      ha-markdown img:first-child:last-child {\n        display: block;\n        margin: 0 auto;\n      }\n      .init-spinner {\n        padding: 10px 100px 34px;\n        text-align: center;\n      }\n      .submit-spinner {\n        margin-right: 16px;\n      }\n    </style>\n    <paper-dialog id="dialog" with-backdrop="" opened="{{_opened}}" on-opened-changed="_openedChanged">\n      <h2>\n        <template is="dom-if" if="[[_equals(_step.type, \'abort\')]]">\n          Aborted\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'create_entry\')]]">\n          Success!\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'form\')]]">\n          [[_computeStepTitle(localize, _step)]]\n        </template>\n      </h2>\n      <paper-dialog-scrollable>\n        <template is="dom-if" if="[[_errorMsg]]">\n          <div class=\'error\'>[[_errorMsg]]</div>\n        </template>\n        <template is="dom-if" if="[[!_step]]">\n          <div class=\'init-spinner\'><paper-spinner active></paper-spinner></div>\n        </template>\n        <template is="dom-if" if="[[_step]]">\n          <template is="dom-if" if="[[_equals(_step.type, \'abort\')]]">\n            <ha-markdown content="[[_computeStepAbortedReason(localize, _step)]]"></ha-markdown>\n          </template>\n\n          <template is="dom-if" if="[[_equals(_step.type, \'create_entry\')]]">\n            <p>Created config for [[_step.title]]</p>\n          </template>\n\n          <template is="dom-if" if="[[_equals(_step.type, \'form\')]]">\n            <template is="dom-if" if="[[_computeStepDescription(localize, _step)]]">\n              <ha-markdown content="[[_computeStepDescription(localize, _step)]]" allow-svg></ha-markdown>\n            </template>\n\n            <ha-form\n              data="{{_stepData}}"\n              schema="[[_step.data_schema]]"\n              error="[[_step.errors]]"\n              compute-label="[[_computeLabelCallback(localize, _step)]]"\n              compute-error="[[_computeErrorCallback(localize, _step)]]"\n            ></ha-form>\n          </template>\n        </template>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <template is="dom-if" if="[[_equals(_step.type, \'abort\')]]">\n          <paper-button on-click="_flowDone">Close</paper-button>\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'create_entry\')]]">\n          <paper-button on-click="_flowDone">Close</paper-button>\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'form\')]]">\n          <template is="dom-if" if="[[_loading]]">\n            <div class=\'submit-spinner\'><paper-spinner active></paper-spinner></div>\n          </template>\n          <template is="dom-if" if="[[!_loading]]">\n            <paper-button on-click="_submitStep">Submit</paper-button>\n          </template>\n        </template>\n      </div>\n    </paper-dialog>\n'],{raw:{value:Object.freeze(['\n    <style include="ha-style-dialog">\n      .error {\n        color: red;\n      }\n      paper-dialog {\n        max-width: 500px;\n      }\n      ha-markdown img:first-child:last-child {\n        display: block;\n        margin: 0 auto;\n      }\n      .init-spinner {\n        padding: 10px 100px 34px;\n        text-align: center;\n      }\n      .submit-spinner {\n        margin-right: 16px;\n      }\n    </style>\n    <paper-dialog id="dialog" with-backdrop="" opened="{{_opened}}" on-opened-changed="_openedChanged">\n      <h2>\n        <template is="dom-if" if="[[_equals(_step.type, \'abort\')]]">\n          Aborted\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'create_entry\')]]">\n          Success!\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'form\')]]">\n          [[_computeStepTitle(localize, _step)]]\n        </template>\n      </h2>\n      <paper-dialog-scrollable>\n        <template is="dom-if" if="[[_errorMsg]]">\n          <div class=\'error\'>[[_errorMsg]]</div>\n        </template>\n        <template is="dom-if" if="[[!_step]]">\n          <div class=\'init-spinner\'><paper-spinner active></paper-spinner></div>\n        </template>\n        <template is="dom-if" if="[[_step]]">\n          <template is="dom-if" if="[[_equals(_step.type, \'abort\')]]">\n            <ha-markdown content="[[_computeStepAbortedReason(localize, _step)]]"></ha-markdown>\n          </template>\n\n          <template is="dom-if" if="[[_equals(_step.type, \'create_entry\')]]">\n            <p>Created config for [[_step.title]]</p>\n          </template>\n\n          <template is="dom-if" if="[[_equals(_step.type, \'form\')]]">\n            <template is="dom-if" if="[[_computeStepDescription(localize, _step)]]">\n              <ha-markdown content="[[_computeStepDescription(localize, _step)]]" allow-svg></ha-markdown>\n            </template>\n\n            <ha-form\n              data="{{_stepData}}"\n              schema="[[_step.data_schema]]"\n              error="[[_step.errors]]"\n              compute-label="[[_computeLabelCallback(localize, _step)]]"\n              compute-error="[[_computeErrorCallback(localize, _step)]]"\n            ></ha-form>\n          </template>\n        </template>\n      </paper-dialog-scrollable>\n      <div class="buttons">\n        <template is="dom-if" if="[[_equals(_step.type, \'abort\')]]">\n          <paper-button on-click="_flowDone">Close</paper-button>\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'create_entry\')]]">\n          <paper-button on-click="_flowDone">Close</paper-button>\n        </template>\n        <template is="dom-if" if="[[_equals(_step.type, \'form\')]]">\n          <template is="dom-if" if="[[_loading]]">\n            <div class=\'submit-spinner\'><paper-spinner active></paper-spinner></div>\n          </template>\n          <template is="dom-if" if="[[!_loading]]">\n            <paper-button on-click="_submitStep">Submit</paper-button>\n          </template>\n        </template>\n      </div>\n    </paper-dialog>\n'])}})),p=0,c=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Object(r.a)(Object(i.a)(o.a))),s(t,[{key:"ready",value:function(){var e=this;(function e(t,n,a){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this.addEventListener("keypress",function(t){13===t.keyCode&&e._submitStep()})}},{key:"showDialog",value:function(e){var t=this,n=e.hass,a=e.continueFlowId,o=e.newFlowForHandler,i=e.dialogClosedCallback;this.hass=n,this._instance=p++,this._dialogClosedCallback=i,this._createdFromHandler=!!o,this._loading=!0,this._opened=!0;var r=a?this.hass.callApi("get","config/config_entries/flow/"+a):this.hass.callApi("post","config/config_entries/flow",{handler:o}),s=this._instance;r.then(function(e){s===t._instance&&(t._processStep(e),t._loading=!1,setTimeout(function(){return t.$.dialog.center()},0))})}},{key:"_submitStep",value:function(){var e=this;this._loading=!0,this._errorMsg=null;var t=this._instance;this.hass.callApi("post","config/config_entries/flow/"+this._step.flow_id,this._stepData).then(function(n){t===e._instance&&(e._processStep(n),e._loading=!1)},function(t){e._errorMsg=t&&t.body&&t.body.message||"Unknown error occurred",e._loading=!1})}},{key:"_processStep",value:function(e){e.errors||(e.errors={}),this._step=e,0===Object.keys(e.errors).length&&(this._stepData={})}},{key:"_flowDone",value:function(){this._opened=!1;var e=this._step&&["success","abort"].includes(this._step.type);this._step&&!e&&this._createdFromHandler&&this.hass.callApi("delete","config/config_entries/flow/"+this._step.flow_id),this._dialogClosedCallback({flowFinished:e}),this._errorMsg=null,this._step=null,this._stepData={},this._dialogClosedCallback=null}},{key:"_equals",value:function(e,t){return e===t}},{key:"_openedChanged",value:function(e){this._step&&!e.detail.value&&this._flowDone()}},{key:"_computeStepAbortedReason",value:function(e,t){return e("component."+t.handler+".config.abort."+t.reason)}},{key:"_computeStepTitle",value:function(e,t){return e("component."+t.handler+".config.step."+t.step_id+".title")}},{key:"_computeStepDescription",value:function(e,t){var n=["component."+t.handler+".config.step."+t.step_id+".description"],a=t.description_placeholders||{};return Object.keys(a).forEach(function(e){n.push(e),n.push(a[e])}),e.apply(void 0,n)}},{key:"_computeLabelCallback",value:function(e,t){return function(n){return e("component."+t.handler+".config.step."+t.step_id+".data."+n.name)}}},{key:"_computeErrorCallback",value:function(e,t){return function(n){return e("component."+t.handler+".config.error."+n)}}}],[{key:"template",get:function(){return Object(a.a)(l)}},{key:"properties",get:function(){return{_hass:Object,_dialogClosedCallback:Function,_instance:Number,_loading:{type:Boolean,value:!1},_errorMsg:String,_opened:{type:Boolean,value:!1},_step:{type:Object,value:null},_stepData:Object}}}]),t}();customElements.define("ha-config-flow",c)}}]);
//# sourceMappingURL=9d8f922404ade7825a77.chunk.js.map