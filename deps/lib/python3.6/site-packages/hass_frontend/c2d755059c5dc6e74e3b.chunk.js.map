{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-item/paper-item-body.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-behavior.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js","webpack:///./node_modules/@polymer/paper-dialog/paper-dialog.js","webpack:///./src/panels/profile/ha-change-password-card.js","webpack:///./src/panels/profile/ha-mfa-modules-card.js","webpack:///./src/panels/profile/ha-settings-row.js","webpack:///./src/panels/profile/ha-pick-language-row.js","webpack:///./src/panels/profile/ha-pick-theme-row.js","webpack:///./node_modules/@polymer/iron-label/iron-label.js","webpack:///./src/components/ha-push-notifications-toggle.js","webpack:///./src/panels/profile/ha-push-notifications-row.js","webpack:///./src/panels/profile/ha-panel-profile.js"],"names":["_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__","__webpack_require__","Object","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__","a","_template","is","204","module","__webpack_exports__","d","PaperDialogBehaviorImpl","PaperDialogBehavior","_polymer_iron_overlay_behavior_iron_overlay_behavior_js__WEBPACK_IMPORTED_MODULE_1__","_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__","hostAttributes","role","tabindex","properties","modal","type","Boolean","value","__readied","observers","listeners","tap","ready","this","__prevNoCancelOnOutsideClick","noCancelOnOutsideClick","__prevNoCancelOnEscKey","noCancelOnEscKey","__prevWithBackdrop","withBackdrop","_modalChanged","readied","_updateClosingReasonConfirmed","confirmed","closingReason","_onDialogClick","event","path","b","i","l","indexOf","target","hasAttribute","close","stopPropagation","$_documentContainer","document","createElement","setAttribute","innerHTML","head","appendChild","content","behaviors","_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_2__","_polymer_neon_animation_neon_animation_runner_behavior_js__WEBPACK_IMPORTED_MODULE_1__","neon-animation-finish","_renderOpened","cancelAnimation","playAnimation","_renderClosed","_onNeonAnimationFinish","opened","_finishRenderOpened","_finishRenderClosed","customElements","define","polymer_element","template","html_tag","hass","_loading","_statusMsg","String","_errorMsg","_currentPassword","_password1","_password2","super","addEventListener","ev","keyCode","_changePassword","[object Object]","callWS","current_password","new_password","setProperties","err","message","localize_mixin","registeredDialog","events_mixin","mfaModules","Array","connectedCallback","fire","dialogShowEvent","dialogTag","dialogImport","e","then","bind","_enable","mfaModuleId","model","id","dialogClosedCallback","_refreshCurrentUser","_disable","confirm","name","mfa_module_id","narrow","reflectToAttribute","languageSelection","observer","languages","computed","computeLanguages","translationMetadata","keys","translations","map","key","tag","nativeName","setLanguageSelection","language","languageSelectionChanged","newVal","_hasThemes","themes","selectedTheme","Number","_compHasThemes","length","_computeThemes","concat","sort","selectionChanged","selection","polymer_fn","polymer_dom","IronLabel","for","_forElement","attached","_forChanged","_generateLabelId","_labelNumber","_findTarget","scope","getOwnerRoot","querySelector","el","firstElementChild","_tapHandler","localTarget","focus","click","_applyLabelledBy","removeAttribute","is_component_loaded","pushSupported","navigator","window","location","protocol","hostname","disabled","pushChecked","Notification","permission","loading","reg","serviceWorker","pushManager","getSubscription","subscription","handlePushChange","subscribePushNotifications","unsubscribePushNotifications","sub","subscribe","userVisibleOnly","browserName","userAgent","toLowerCase","callApi","browser","console","error","unsubscribe","_compDisabled","_platformLoaded","_pushSupported","_error","_compPlatformLoaded","_compError","platformLoaded","pushSupported_","_description","localize","showMenu","_handleLogOut","_canChangePassword","user","credentials","some","cred","auth_provider_type"],"mappings":";6HAAAA,EAAAC,EAAA,GA8CAC,OAAAC,EAAAC,EAAAF,EACEG,UAAWL,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAmCXM,GAAI,qBAAAC,IAAA,SAAAC,EAAAC,EAAAR,GAAA,aAAAA,EAAAS,EAAAD,EAAA,sBAAAE,IAAAV,EAAAS,EAAAD,EAAA,sBAAAG,IAAAX,EAAA,OAAAY,EAAAZ,EAAA,IClFNa,EAAAb,EAAA,GAkDO,MAAMU,GAEXI,gBAAiBC,KAAQ,SAAUC,SAAY,MAE/CC,YAMEC,OAAQC,KAAMC,QAASC,UAEvBC,WAAYH,KAAMC,QAASC,WAI7BE,WAAY,mCAEZC,WAAYC,IAAO,kBAKnBC,MAAO,WAELC,KAAKC,6BAA+BD,KAAKE,uBACzCF,KAAKG,uBAAyBH,KAAKI,iBACnCJ,KAAKK,mBAAqBL,KAAKM,aAC/BN,KAAKL,cAGPY,cAAe,SAAShB,EAAOiB,GAIxBA,IAIDjB,GACFS,KAAKC,6BAA+BD,KAAKE,uBACzCF,KAAKG,uBAAyBH,KAAKI,iBACnCJ,KAAKK,mBAAqBL,KAAKM,aAC/BN,KAAKE,0BACLF,KAAKI,oBACLJ,KAAKM,kBAGLN,KAAKE,uBACDF,KAAKE,wBAA0BF,KAAKC,6BACxCD,KAAKI,iBACDJ,KAAKI,kBAAoBJ,KAAKG,uBAClCH,KAAKM,aAAeN,KAAKM,cAAgBN,KAAKK,sBAIlDI,8BAA+B,SAASC,GACtCV,KAAKW,cAAgBX,KAAKW,kBAC1BX,KAAKW,cAAcD,UAAYA,GAOjCE,eAAgB,SAASC,GAIvB,IADA,IAAIC,EAAOxC,OAAAY,EAAA6B,EAAAzC,CAAIuC,GAAOC,KACbE,EAAI,EAAGC,EAAIH,EAAKI,QAAQlB,MAAOgB,EAAIC,EAAGD,IAAK,CAClD,IAAIG,EAASL,EAAKE,GAClB,GAAIG,EAAOC,eACND,EAAOC,aAAa,mBACpBD,EAAOC,aAAa,mBAAoB,CAC3CpB,KAAKS,8BACDU,EAAOC,aAAa,mBACxBpB,KAAKqB,QACLR,EAAMS,kBACN,UAQKtC,GAAuBC,EAAAT,EAAqBO,kECnIzD,MAAMwC,EAAsBC,SAASC,cAAc,YACnDF,EAAoBG,aAAa,QAAS,kBAE1CH,EAAoBI,UAAa,o3DAuEjCH,SAASI,KAAKC,YAAYN,EAAoBO,qFC/E9C1D,EAAAC,EAAA,GA4EAC,OAAAC,EAAAC,EAAAF,EACEG,UAAWL,EAAA;;;EAKXM,GAAI,eACJqD,WAAYC,EAAAxD,EAAqByD,EAAAzD,GACjCqB,WAAYqC,wBAAyB,0BAErCC,cAAe,WACbnC,KAAKoC,kBACLpC,KAAKqC,cAAc,UAGrBC,cAAe,WACbtC,KAAKoC,kBACLpC,KAAKqC,cAAc,SAGrBE,uBAAwB,WAClBvC,KAAKwC,OACPxC,KAAKyC,sBAELzC,KAAK0C,0KC+CXC,eAAeC,OAAO,wCA1IaC,EAAArE,EACjCsE,sBACE,OAAOC,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAqETzD,wBACE,OACE0D,KAAM1E,OAEN2E,UACEzD,KAAMC,QACNC,UAIFwD,WAAYC,OACZC,UAAWD,OAEXE,iBAAkBF,OAClBG,WAAYH,OACZI,WAAYJ,QAIhBpD,QACEyD,MAAMzD,QACNC,KAAKyD,iBAAiB,WAAaC,IACjC1D,KAAKkD,WAAa,KACC,KAAfQ,EAAGC,SACL3D,KAAK4D,oBAKXC,wBAEE,GADA7D,KAAKkD,WAAa,KACblD,KAAKqD,kBAAqBrD,KAAKsD,YAAetD,KAAKuD,WAExD,GAAIvD,KAAKsD,aAAetD,KAAKuD,WAK7B,GAAIvD,KAAKqD,mBAAqBrD,KAAKsD,WAAnC,CAKAtD,KAAKiD,YACLjD,KAAKoD,UAAY,KAEjB,UACQpD,KAAKgD,KAAKc,QACdtE,KAAM,qDACNuE,iBAAkB/D,KAAKqD,iBACvBW,aAAchE,KAAKsD,aAGrBtD,KAAKiE,eACHf,WAAY,gCACZG,iBAAkB,KAClBC,WAAY,KACZC,WAAY,OAEd,MAAOW,GACPlE,KAAKoD,UAAYc,EAAIC,QAGvBnE,KAAKiD,iBAxBHjD,KAAKoD,UAAY,4DALjBpD,KAAKoD,UAAY,iDAAAgB,EAAA/F,EAAA,ICtGvB,IAAIgG,KA0GJ1B,eAAeC,OAAO,oCApGStE,OAAAgG,EAAA9F,EAoGT,CApGqBF,OAAA8F,EAAA5F,EAAAF,CAAcuE,EAAArE,KACvDsE,sBACE,OAAOC,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA0CTzD,wBACE,OACE0D,KAAM1E,OAEN2E,UACEzD,KAAMC,QACNC,UAIFwD,WAAYC,OACZC,UAAWD,OAEXoB,WAAYC,OAIhBC,oBACEjB,MAAMiB,oBAEDJ,IACHA,KACArE,KAAK0E,KAAK,mBACRC,gBAAiB,6BACjBC,UAAW,2BACXC,aAAc,IAAMxG,EAAAyG,EAAA,IAAAC,KAAA1G,EAAA2G,KAAA,cAK1BC,QAAQvB,GACN1D,KAAK0E,KAAK,8BACR1B,KAAMhD,KAAKgD,KACXkC,YAAaxB,EAAGyB,MAAMvG,OAAOwG,GAC7BC,qBAAsB,IAAMrF,KAAKsF,wBAIrCC,SAAS7B,GACP,IAAK8B,4CAA4C9B,EAAGyB,MAAMvG,OAAO6G,SAAU,OAE3E,MAAMP,EAAcxB,EAAGyB,MAAMvG,OAAOwG,GAEpCpF,KAAKgD,KAAKc,QACRtE,KAAM,kBACNkG,cAAeR,IACdH,KAAK,KACN/E,KAAKsF,wBAITA,sBACEtF,KAAK0E,KAAK,gCAAArG,EAAA,KAAAA,EAAA,KCxEdsE,eAAeC,OAAO,gCAvCMC,EAAArE,EAC1BsE,sBACE,OAAOC,EAAA;;;;;;;;;;;;;;;;;;;;;;;;MA2BTzD,wBACE,OACEqG,QACEnG,KAAMC,QACNmG,2BC4CRjD,eAAeC,OAAO,qCA/DpBtE,OAAA8F,EAAA5F,EA+DoB,CA/DNF,OAAAgG,EAAA9F,EAAAF,CAAYuE,EAAArE,KAC1BsE,sBACE,OAAOC,EAAA;;;;;;;;;;;;;;;;;;;MAsBTzD,wBACE,OACE0D,KAAM1E,OACNqH,OAAQlG,QACRoG,mBACErG,KAAM2D,OACN2C,SAAU,4BAEZC,WACEvG,KAAMgF,MACNwB,SAAU,2BAIhBpG,uBAAyB,OAAQ,kCAEjCqG,iBAAiBjD,GACf,OAAKA,GAASA,EAAKkD,oBAGZ5H,OAAO6H,KAAKnD,EAAKkD,oBAAoBE,cAAcC,IAAIC,KAC5DC,IAAKD,EACLE,WAAYxD,EAAKkD,oBAAoBE,aAAaE,GAAKE,iBAI3DC,qBAAqBC,GACnB1G,KAAK6F,kBAAoBa,EAG3BC,yBAAyBC,GAGnBA,IAAW5G,KAAK0G,UAClB1G,KAAK0E,KAAK,wBAA0BgC,SAAUE,OC0BpDjE,eAAeC,OAAO,kCArFpBtE,OAAA8F,EAAA5F,EAqFoB,CArFNF,OAAAgG,EAAA9F,EAAAF,CAAYuE,EAAArE,KAC1BsE,sBACE,OAAOC,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;MA6BTzD,wBACE,OACE0D,KAAM1E,OACNqH,OAAQlG,QACRoH,YACErH,KAAMC,QACNuG,SAAU,wBAEZc,QACEtH,KAAMgF,MACNwB,SAAU,wBAEZe,eACEvH,KAAMwH,SAKZpH,uBACE,OACE,yCAIJqH,eAAejE,GACb,OAAOA,EAAK8D,QAAU9D,EAAK8D,OAAOA,QAChCxI,OAAO6H,KAAKnD,EAAK8D,OAAOA,QAAQI,OAGpCnH,QACEyD,MAAMzD,QACFC,KAAKgD,KAAK+D,eAAiB/G,KAAK8G,OAAO5F,QAAQlB,KAAKgD,KAAK+D,eAAiB,EAC5E/G,KAAK+G,cAAgB/G,KAAK8G,OAAO5F,QAAQlB,KAAKgD,KAAK+D,eACzC/G,KAAKgD,KAAK+D,gBACpB/G,KAAK+G,cAAgB,GAIzBI,eAAenE,GACb,OAAKA,GACG,mBAAoB,WAAWoE,OAAO9I,OAAO6H,KAAKnD,EAAK8D,OAAOA,QAAQO,WAGhFC,iBAAiBtE,EAAMuE,GACjBA,EAAY,GAAKA,EAAYvH,KAAK8G,OAAOI,OACvClE,EAAK+D,gBAAkB/G,KAAK8G,OAAOS,IACrCvH,KAAK0E,KAAK,WAAY1E,KAAK8G,OAAOS,IAEb,IAAdA,GAA0C,KAAvBvE,EAAK+D,eACjC/G,KAAK0E,KAAK,WAAY,OAAArG,EAAA,IAAAA,EAAA,OAAAmJ,EAAAnJ,EAAA,GAAAoJ,EAAApJ,EAAA,GCjCrB,MAAMqJ,EAAYpJ,OAAAkJ,EAAAhJ,EAAAF,EACvBI,GAAI,aAEJmB,WAAYC,IAAO,eAEnBR,YAKEqI,KACEnI,KAAM2D,OACNzD,MAAO,GACPkG,sBACAE,SAAU,eAKZ8B,YAAatJ,QAGfuJ,SAAU,WACR7H,KAAK8H,eAGP/H,MAAO,WACLC,KAAK+H,oBAIPA,iBAAkB,WAChB,IAAK/H,KAAKoF,GAAI,CACZ,IAAIA,EAAK,cAAgBsC,EAAUM,eACnC1J,OAAAmJ,EAAA1G,EAAAzC,CAAI0B,MAAM0B,aAAa,KAAM0D,KAIjC6C,YAAa,WACX,GAAIjI,KAAK2H,IAAK,CAEZ,IAAIO,EAAQ5J,OAAAmJ,EAAA1G,EAAAzC,CAAI0B,MAAMmI,eACtB,OAAO7J,OAAAmJ,EAAA1G,EAAAzC,CAAI4J,GAAOE,cAAc,IAAMpI,KAAK2H,KAG3C,IAAIU,EAAK/J,OAAAmJ,EAAA1G,EAAAzC,CAAI0B,MAAMoI,cAAc,uBAKjC,OAJKC,IAEHA,EAAK/J,OAAAmJ,EAAA1G,EAAAzC,CAAI0B,MAAMsI,mBAEVD,GAIXE,YAAa,SAAS7E,GACf1D,KAAK4H,aAGGtJ,OAAAmJ,EAAA1G,EAAAzC,CAAIoF,GAAI8E,cACNxI,KAAK4H,cAGpB5H,KAAK4H,YAAYa,QACjBzI,KAAK4H,YAAYc,UAGnBC,iBAAkB,WACZ3I,KAAK4H,aACPtJ,OAAAmJ,EAAA1G,EAAAzC,CAAI0B,KAAK4H,aAAalG,aAAa,kBAAmB1B,KAAKoF,KAI/D0C,YAAa,WACP9H,KAAK4H,aACPtJ,OAAAmJ,EAAA1G,EAAAzC,CAAI0B,KAAK4H,aAAagB,gBAAgB,mBAExC5I,KAAK4H,YAAc5H,KAAKiI,cACxBjI,KAAK2I,sBAKTjB,EAAUM,aAAe,MAAAa,EAAAxK,EAAA,KAAAA,EAAA,KC3IlB,MAAMyK,EACX,kBAAmBC,WAAa,gBAAiBC,SACjB,WAA/BxH,SAASyH,SAASC,UACc,cAA/B1H,SAASyH,SAASE,UACa,cAA/B3H,SAASyH,SAASE,UAuHtBxG,eAAeC,OAAO,6CAlHkBtE,OAAAgG,EAAA9F,EAkHlB,CAlH8BqE,EAAArE,IAClDsE,sBACE,OAAOC,EAAA;;;;;EAQTzD,wBACE,OACE0D,MAAQxD,KAAMlB,OAAQoB,MAAO,MAC7B0J,UACE5J,KAAMC,QACNC,UAEF2J,aACE7J,KAAMC,QACNC,MAAO,iBAAkBsJ,QAAsC,YAA5BM,aAAaC,WAChDzD,SAAU,oBAEZ0D,SACEhK,KAAMC,QACNC,WAKNmE,0BAGE,GAFAL,MAAMiB,oBAEDqE,EAEL,IACE,MAAMW,QAAYV,UAAUW,cAAc3J,MAC1C,IAAK0J,EAAIE,YACP,OAEFF,EAAIE,YAAYC,kBAAkB7E,KAAM8E,IACtC7J,KAAKwJ,WACLxJ,KAAKqJ,cAAgBQ,IAEvB,MAAO3F,KAKX4F,iBAAiBT,GAGVP,IAEDO,EACFrJ,KAAK+J,6BAEL/J,KAAKgK,gCAITnG,mCACE,MAAM4F,QAAYV,UAAUW,cAAc3J,MAE1C,IACE,MAAMkK,QAAYR,EAAIE,YAAYO,WAAYC,qBAE9C,IAAIC,EAEFA,EADErB,UAAUsB,UAAUC,cAAcpJ,QAAQ,YAAc,EAC5C,UAEA,eAGVlB,KAAKgD,KAAKuH,QAAQ,OAAQ,gBAC9BV,aAAcI,EACdO,QAASJ,IAEX,MAAOlG,GACP,MAAMC,EAAUD,EAAIC,SAAW,oCAG/BsG,QAAQC,MAAMxG,GAEdlE,KAAK0E,KAAK,qBAAuBP,YACjCnE,KAAKqJ,gBAITxF,qCACE,MAAM4F,QAAYV,UAAUW,cAAc3J,MAE1C,IACE,MAAMkK,QAAYR,EAAIE,YAAYC,kBAElC,IAAKK,EAAK,aAEJjK,KAAKgD,KAAKuH,QAAQ,SAAU,gBAAkBV,aAAcI,UAC5DA,EAAIU,cACV,MAAOzG,GACP,MAAMC,EAAUD,EAAIC,SAAW,+CAG/BsG,QAAQC,MAAM,sBAAuBxG,GAErClE,KAAK0E,KAAK,qBAAuBP,YACjCnE,KAAKqJ,gBAITuB,cAAcxB,EAAUI,GACtB,OAAOJ,GAAYI,KC7CvB7G,eAAeC,OAAO,0CAhEetE,OAAA8F,EAAA5F,EAgEf,CAhE6BqE,EAAArE,IACjDsE,sBACE,OAAOC,EAAA;;;;;;;;;;;;;;;;;;;MAsBTzD,wBACE,OACE0D,KAAM1E,OACNqH,OAAQlG,QACRoL,iBACErL,KAAMC,QACNuG,SAAU,6BAEZ8E,gBACEtL,KAAMC,QACNC,MAAOoJ,GAETiC,QACEvL,KAAMC,QACNuG,SAAU,gDAKhBgF,oBAAoBhI,GAClB,OAAO1E,OAAAuK,EAAArK,EAAAF,CAAkB0E,EAAM,gBAGjCiI,WAAWC,EAAgBC,GACzB,OAAQD,IAAmBC,EAG7BC,aAAaF,EAAgBC,GAC3B,IAAI7E,EAQJ,OAFEA,EALG6E,EAEOD,EAGJ,cAFA,sBAFA,kBAMDlL,KAAKqL,gDAAgD/E,QCiChE3D,eAAeC,OAAO,iCArFOtE,OAAAgG,EAAA9F,EAqFP,CArFmBqE,EAAArE,IACvCsE,sBACE,OAAOC,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAkETzD,wBACE,OACE0D,KAAM1E,OACNqH,OAAQlG,QACR6L,SAAU7L,SAId8L,gBACEvL,KAAK0E,KAAK,eAGZ8G,mBAAmBC,GACjB,OAAOA,EAAKC,YAAYC,KAAKC,GAAoC,kBAA5BA,EAAKC","file":"c2d755059c5dc6e74e3b.chunk.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\nUse `<paper-item-body>` in a `<paper-item>` or `<paper-icon-item>` to make two- or\nthree- line items. It is a flex item that is a vertical flexbox.\n\n    <paper-item>\n      <paper-item-body two-line>\n        <div>Show your status</div>\n        <div secondary>Your status is visible to everyone</div>\n      </paper-item-body>\n    </paper-item>\n\nThe child elements with the `secondary` attribute is given secondary text styling.\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-body-two-line-min-height`   | Minimum height of a two-line item          | `72px`\n`--paper-item-body-three-line-min-height` | Minimum height of a three-line item        | `88px`\n`--paper-item-body-secondary-color`       | Foreground color for the `secondary` area  | `--secondary-text-color`\n`--paper-item-body-secondary`             | Mixin applied to the `secondary` area      | `{}`\n\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'paper-item-body'\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { IronOverlayBehavior } from '@polymer/iron-overlay-behavior/iron-overlay-behavior.js';\nimport { dom } from '@polymer/polymer/lib/legacy/polymer.dom.js';\n\n/**\n  Use `Polymer.PaperDialogBehavior` and `paper-dialog-shared-styles.html` to\n  implement a Material Design dialog.\n\n  For example, if `<paper-dialog-impl>` implements this behavior:\n\n      <paper-dialog-impl>\n          <h2>Header</h2>\n          <div>Dialog body</div>\n          <div class=\"buttons\">\n              <paper-button dialog-dismiss>Cancel</paper-button>\n              <paper-button dialog-confirm>Accept</paper-button>\n          </div>\n      </paper-dialog-impl>\n\n  `paper-dialog-shared-styles.html` provide styles for a header, content area, and\n  an action area for buttons. Use the `<h2>` tag for the header and the `buttons`\n  class for the action area. You can use the `paper-dialog-scrollable` element (in\n  its own repository) if you need a scrolling content area.\n\n  Use the `dialog-dismiss` and `dialog-confirm` attributes on interactive controls\n  to close the dialog. If the user dismisses the dialog with `dialog-confirm`, the\n  `closingReason` will update to include `confirmed: true`.\n\n  ### Accessibility\n\n  This element has `role=\"dialog\"` by default. Depending on the context, it may be\n  more appropriate to override this attribute with `role=\"alertdialog\"`.\n\n  If `modal` is set, the element will prevent the focus from exiting the element.\n  It will also ensure that focus remains in the dialog.\n\n  @hero hero.svg\n  @demo demo/index.html\n  @polymerBehavior Polymer.PaperDialogBehavior\n */\nexport const PaperDialogBehaviorImpl = {\n\n  hostAttributes: {'role': 'dialog', 'tabindex': '-1'},\n\n  properties: {\n\n    /**\n     * If `modal` is true, this implies `no-cancel-on-outside-click`,\n     * `no-cancel-on-esc-key` and `with-backdrop`.\n     */\n    modal: {type: Boolean, value: false},\n\n    __readied: {type: Boolean, value: false}\n\n  },\n\n  observers: ['_modalChanged(modal, __readied)'],\n\n  listeners: {'tap': '_onDialogClick'},\n\n  /**\n   * @return {void}\n   */\n  ready: function() {\n    // Only now these properties can be read.\n    this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n    this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n    this.__prevWithBackdrop = this.withBackdrop;\n    this.__readied = true;\n  },\n\n  _modalChanged: function(modal, readied) {\n    // modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.\n    // We need to wait for the element to be ready before we can read the\n    // properties values.\n    if (!readied) {\n      return;\n    }\n\n    if (modal) {\n      this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n      this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n      this.__prevWithBackdrop = this.withBackdrop;\n      this.noCancelOnOutsideClick = true;\n      this.noCancelOnEscKey = true;\n      this.withBackdrop = true;\n    } else {\n      // If the value was changed to false, let it false.\n      this.noCancelOnOutsideClick =\n          this.noCancelOnOutsideClick && this.__prevNoCancelOnOutsideClick;\n      this.noCancelOnEscKey =\n          this.noCancelOnEscKey && this.__prevNoCancelOnEscKey;\n      this.withBackdrop = this.withBackdrop && this.__prevWithBackdrop;\n    }\n  },\n\n  _updateClosingReasonConfirmed: function(confirmed) {\n    this.closingReason = this.closingReason || {};\n    this.closingReason.confirmed = confirmed;\n  },\n\n  /**\n   * Will dismiss the dialog if user clicked on an element with dialog-dismiss\n   * or dialog-confirm attribute.\n   */\n  _onDialogClick: function(event) {\n    // Search for the element with dialog-confirm or dialog-dismiss,\n    // from the root target until this (excluded).\n    var path = dom(event).path;\n    for (var i = 0, l = path.indexOf(this); i < l; i++) {\n      var target = path[i];\n      if (target.hasAttribute &&\n          (target.hasAttribute('dialog-dismiss') ||\n           target.hasAttribute('dialog-confirm'))) {\n        this._updateClosingReasonConfirmed(\n            target.hasAttribute('dialog-confirm'));\n        this.close();\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n\n};\n\n/** @polymerBehavior */\nexport const PaperDialogBehavior = [IronOverlayBehavior, PaperDialogBehaviorImpl];\n","import '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport '@polymer/paper-styles/shadow.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-dialog-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was \\`:host > ::content h2\\`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\n### Styling\n\nThe following custom properties and mixins are available for styling.\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-background-color` | Dialog background color                     | `--primary-background-color`\n`--paper-dialog-color`            | Dialog foreground color                     | `--primary-text-color`\n`--paper-dialog`                  | Mixin applied to the dialog                 | `{}`\n`--paper-dialog-title`            | Mixin applied to the title (`<h2>`) element | `{}`\n`--paper-dialog-button-color`     | Button area foreground color                | `--default-primary-color`\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n;\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\nMaterial design: [Dialogs](https://www.google.com/design/spec/components/dialogs.html)\n\n`<paper-dialog>` is a dialog with Material Design styling and optional animations when it is\nopened or closed. It provides styles for a header, content area, and an action area for buttons.\nYou can use the `<paper-dialog-scrollable>` element (in its own repository) if you need a scrolling\ncontent area. To autofocus a specific child element after opening the dialog, give it the `autofocus`\nattribute. See `Polymer.PaperDialogBehavior` and `Polymer.IronOverlayBehavior` for specifics.\n\nFor example, the following code implements a dialog with a header, scrolling content area and\nbuttons. Focus will be given to the `dialog-confirm` button when the dialog is opened.\n\n    <paper-dialog>\n      <h2>Header</h2>\n      <paper-dialog-scrollable>\n        Lorem ipsum...\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button dialog-dismiss>Cancel</paper-button>\n        <paper-button dialog-confirm autofocus>Accept</paper-button>\n      </div>\n    </paper-dialog>\n\n### Styling\n\nSee the docs for `Polymer.PaperDialogBehavior` for the custom properties available for styling\nthis element.\n\n### Animations\n\nSet the `entry-animation` and/or `exit-animation` attributes to add an animation when the dialog\nis opened or closed. See the documentation in\n[PolymerElements/neon-animation](https://github.com/PolymerElements/neon-animation) for more info.\n\nFor example:\n\n    <link rel=\"import\" href=\"components/neon-animation/animations/scale-up-animation.html\">\n    <link rel=\"import\" href=\"components/neon-animation/animations/fade-out-animation.html\">\n\n    <paper-dialog entry-animation=\"scale-up-animation\"\n                  exit-animation=\"fade-out-animation\">\n      <h2>Header</h2>\n      <div>Dialog body</div>\n    </paper-dialog>\n\n### Accessibility\n\nSee the docs for `Polymer.PaperDialogBehavior` for accessibility features implemented by this\nelement.\n\n@group Paper Elements\n@element paper-dialog\n@hero hero.svg\n@demo demo/index.html\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { NeonAnimationRunnerBehavior } from '@polymer/neon-animation/neon-animation-runner-behavior.js';\nimport { PaperDialogBehavior } from '@polymer/paper-dialog-behavior/paper-dialog-behavior.js';\nimport '@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style include=\"paper-dialog-shared-styles\"></style>\n    <slot></slot>\n`,\n\n  is: 'paper-dialog',\n  behaviors: [PaperDialogBehavior, NeonAnimationRunnerBehavior],\n  listeners: {'neon-animation-finish': '_onNeonAnimationFinish'},\n\n  _renderOpened: function() {\n    this.cancelAnimation();\n    this.playAnimation('entry');\n  },\n\n  _renderClosed: function() {\n    this.cancelAnimation();\n    this.playAnimation('exit');\n  },\n\n  _onNeonAnimationFinish: function() {\n    if (this.opened) {\n      this._finishRenderOpened();\n    } else {\n      this._finishRenderClosed();\n    }\n  }\n});\n","import '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-dialog/paper-dialog.js';\nimport '@polymer/paper-spinner/paper-spinner.js';\nimport '@polymer/paper-card/paper-card.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../resources/ha-style.js';\n\nclass HaChangePasswordCard extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"ha-style\">\n      .error {\n        color: red;\n      }\n      .status {\n        color: var(--primary-color);\n      }\n      .error, .status {\n        position: absolute;\n        top: -4px;\n      }\n      paper-card {\n        display: block;\n      }\n      .currentPassword {\n        margin-top: -4px;\n      }\n    </style>\n    <div>\n      <paper-card heading=\"Change Password\">\n        <div class=\"card-content\">\n          <template is=\"dom-if\" if=\"[[_errorMsg]]\">\n            <div class='error'>[[_errorMsg]]</div>\n          </template>\n          <template is=\"dom-if\" if=\"[[_statusMsg]]\">\n            <div class=\"status\">[[_statusMsg]]</div>\n          </template>\n          <paper-input\n            class='currentPassword'\n            label='Current Password'\n            type='password'\n            value='{{_currentPassword}}'\n            required\n            auto-validate\n            error-message='Required'\n          ></paper-input>\n          <template is='dom-if' if='[[_currentPassword]]'>\n            <paper-input\n              label='New Password'\n              type='password'\n              value='{{_password1}}'\n              required\n              auto-validate\n              error-message='Required'\n            ></paper-input>\n            <paper-input\n              label='Confirm New Password'\n              type='password'\n              value='{{_password2}}'\n              required\n              auto-validate\n              error-message='Required'\n            ></paper-input>\n          </template>\n        </div>\n        <div class=\"card-actions\">\n          <template is=\"dom-if\" if=\"[[_loading]]\">\n            <div><paper-spinner active></paper-spinner></div>\n          </template>\n          <template is=\"dom-if\" if=\"[[!_loading]]\">\n            <paper-button on-click=\"_changePassword\">Submit</paper-button>\n          </template>\n        </div>\n      </paper-card>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n\n      _loading: {\n        type: Boolean,\n        value: false,\n      },\n\n      // Error message when can't talk to server etc\n      _statusMsg: String,\n      _errorMsg: String,\n\n      _currentPassword: String,\n      _password1: String,\n      _password2: String,\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('keypress', (ev) => {\n      this._statusMsg = null;\n      if (ev.keyCode === 13) {\n        this._changePassword();\n      }\n    });\n  }\n\n  async _changePassword() {\n    this._statusMsg = null;\n    if (!this._currentPassword || !this._password1 || !this._password2) return;\n\n    if (this._password1 !== this._password2) {\n      this._errorMsg = \"New password confirmation doesn't match\";\n      return;\n    }\n\n    if (this._currentPassword === this._password1) {\n      this._errorMsg = 'New password must be different than current password';\n      return;\n    }\n\n    this._loading = true;\n    this._errorMsg = null;\n\n    try {\n      await this.hass.callWS({\n        type: 'config/auth_provider/homeassistant/change_password',\n        current_password: this._currentPassword,\n        new_password: this._password1,\n      });\n\n      this.setProperties({\n        _statusMsg: 'Password changed successfully',\n        _currentPassword: null,\n        _password1: null,\n        _password2: null\n      });\n    } catch (err) {\n      this._errorMsg = err.message;\n    }\n\n    this._loading = false;\n  }\n}\n\ncustomElements.define('ha-change-password-card', HaChangePasswordCard);\n","import '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-card/paper-card.js';\nimport '@polymer/paper-item/paper-item-body.js';\nimport '@polymer/paper-item/paper-item.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../resources/ha-style.js';\n\nimport EventsMixin from '../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../mixins/localize-mixin.js';\n\nlet registeredDialog = false;\n\n/*\n * @appliesMixin EventsMixin\n * @appliesMixin LocalizeMixin\n */\nclass HaMfaModulesCard extends EventsMixin(LocalizeMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style include=\"iron-flex ha-style\">\n      .error {\n        color: red;\n      }\n      .status {\n        color: var(--primary-color);\n      }\n      .error, .status {\n        position: absolute;\n        top: -4px;\n      }\n      paper-card {\n        display: block;\n        max-width: 600px;\n        margin: 16px auto;\n      }\n      paper-button {\n        color: var(--primary-color);\n        font-weight: 500;\n        margin-right: -.57em;\n      }\n    </style>\n    <paper-card heading=\"Multi-factor Authentication Modules\">\n      <template is=\"dom-repeat\" items=\"[[mfaModules]]\" as=\"module\">\n        <paper-item>\n          <paper-item-body two-line=\"\">\n            <div>[[module.name]]</div>\n            <div secondary=\"\">[[module.id]]</div>\n          </paper-item-body>\n          <template is=\"dom-if\" if=\"[[module.enabled]]\">\n            <paper-button on-click=\"_disable\">Disable</paper-button>\n          </template>\n          <template is=\"dom-if\" if=\"[[!module.enabled]]\">\n            <paper-button on-click=\"_enable\">Enable</paper-button>\n          </template>\n        </paper-item>\n      </template>\n    </paper-card>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n\n      _loading: {\n        type: Boolean,\n        value: false,\n      },\n\n      // Error message when can't talk to server etc\n      _statusMsg: String,\n      _errorMsg: String,\n\n      mfaModules: Array,\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (!registeredDialog) {\n      registeredDialog = true;\n      this.fire('register-dialog', {\n        dialogShowEvent: 'show-mfa-module-setup-flow',\n        dialogTag: 'ha-mfa-module-setup-flow',\n        dialogImport: () => import('./ha-mfa-module-setup-flow.js'),\n      });\n    }\n  }\n\n  _enable(ev) {\n    this.fire('show-mfa-module-setup-flow', {\n      hass: this.hass,\n      mfaModuleId: ev.model.module.id,\n      dialogClosedCallback: () => this._refreshCurrentUser(),\n    });\n  }\n\n  _disable(ev) {\n    if (!confirm(`Are you sure you want to disable ${ev.model.module.name}?`)) return;\n\n    const mfaModuleId = ev.model.module.id;\n\n    this.hass.callWS({\n      type: 'auth/depose_mfa',\n      mfa_module_id: mfaModuleId,\n    }).then(() => {\n      this._refreshCurrentUser();\n    });\n  }\n\n  _refreshCurrentUser() {\n    this.fire('hass-refresh-current-user');\n  }\n}\n\ncustomElements.define('ha-mfa-modules-card', HaMfaModulesCard);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nclass HaSettingsRow extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: flex;\n        padding: 0 16px;\n        align-content: normal;\n        align-self: auto;\n        align-items: center;\n      }\n      :host([narrow]) {\n        align-items: normal;\n        flex-direction: column;\n        border-top: 1px solid var(--divider-color);\n        padding-bottom: 8px;\n      }\n      paper-item-body {\n        padding-right: 16px;\n      }\n    </style>\n    <paper-item-body two-line>\n      <slot name=\"heading\"></slot>\n      <div secondary><slot name=\"description\"></slot></div>\n    </paper-item-body>\n    <slot></slot>\n    `;\n  }\n\n  static get properties() {\n    return {\n      narrow: {\n        type: Boolean,\n        reflectToAttribute: true,\n      }\n    };\n  }\n}\n\ncustomElements.define('ha-settings-row', HaSettingsRow);\n","import '@polymer/paper-card/paper-card.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport EventsMixin from '../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../mixins/localize-mixin.js';\n\nimport './ha-settings-row.js';\n\n/*\n * @appliesMixin LocalizeMixin\n * @appliesMixin EventsMixin\n */\nclass HaPickLanguageRow extends\n  LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.language.header')]]</span>\n      <span slot='description'>\n        <a\n          href='https://developers.home-assistant.io/docs/en/internationalization_translation.html'\n          target='_blank'>[[localize('ui.panel.profile.language.link_promo')]]</a>\n      </span>\n      <paper-dropdown-menu label=\"[[localize('ui.panel.profile.language.dropdown_label')]]\" dynamic-align=\"\">\n        <paper-listbox slot=\"dropdown-content\" attr-for-selected=\"language-tag\" selected=\"{{languageSelection}}\">\n          <template is=\"dom-repeat\" items=\"[[languages]]\">\n            <paper-item language-tag$=\"[[item.tag]]\">[[item.nativeName]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </ha-settings-row>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      narrow: Boolean,\n      languageSelection: {\n        type: String,\n        observer: 'languageSelectionChanged',\n      },\n      languages: {\n        type: Array,\n        computed: 'computeLanguages(hass)',\n      },\n    };\n  }\n  static get observers() { return ['setLanguageSelection(language)']; }\n\n  computeLanguages(hass) {\n    if (!hass || !hass.translationMetadata) {\n      return [];\n    }\n    return Object.keys(hass.translationMetadata.translations).map(key => ({\n      tag: key,\n      nativeName: hass.translationMetadata.translations[key].nativeName,\n    }));\n  }\n\n  setLanguageSelection(language) {\n    this.languageSelection = language;\n  }\n\n  languageSelectionChanged(newVal) {\n    // Only fire event if language was changed. This prevents select updates when\n    // responding to hass changes.\n    if (newVal !== this.language) {\n      this.fire('hass-language-select', { language: newVal });\n    }\n  }\n}\n\ncustomElements.define('ha-pick-language-row', HaPickLanguageRow);\n","import '@polymer/paper-card/paper-card.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\n\nimport EventsMixin from '../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin LocalizeMixin\n * @appliesMixin EventsMixin\n */\nclass HaPickThemeRow extends\n  LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.themes.header')]]</span>\n      <span slot='description'>\n        <template is='dom-if' if='[[!_hasThemes]]'>\n        [[localize('ui.panel.profile.themes.error_no_theme')]]\n        </template>\n        <a\n          href='https://www.home-assistant.io/components/frontend/#defining-themes'\n          target='_blank'>[[localize('ui.panel.profile.themes.link_promo')]]</a>\n      </span>\n      <paper-dropdown-menu\n        label=\"[[localize('ui.panel.profile.themes.dropdown_label')]]\"\n        dynamic-align\n        disabled='[[!_hasThemes]]'\n      >\n        <paper-listbox slot=\"dropdown-content\" selected=\"{{selectedTheme}}\">\n          <template is=\"dom-repeat\" items=\"[[themes]]\" as=\"theme\">\n            <paper-item>[[theme]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </ha-settings-row>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      narrow: Boolean,\n      _hasThemes: {\n        type: Boolean,\n        computed: '_compHasThemes(hass)',\n      },\n      themes: {\n        type: Array,\n        computed: '_computeThemes(hass)',\n      },\n      selectedTheme: {\n        type: Number,\n      },\n    };\n  }\n\n  static get observers() {\n    return [\n      'selectionChanged(hass, selectedTheme)',\n    ];\n  }\n\n  _compHasThemes(hass) {\n    return hass.themes && hass.themes.themes &&\n      Object.keys(hass.themes.themes).length;\n  }\n\n  ready() {\n    super.ready();\n    if (this.hass.selectedTheme && this.themes.indexOf(this.hass.selectedTheme) > 0) {\n      this.selectedTheme = this.themes.indexOf(this.hass.selectedTheme);\n    } else if (!this.hass.selectedTheme) {\n      this.selectedTheme = 0;\n    }\n  }\n\n  _computeThemes(hass) {\n    if (!hass) return [];\n    return ['Backend-selected', 'default'].concat(Object.keys(hass.themes.themes).sort());\n  }\n\n  selectionChanged(hass, selection) {\n    if (selection > 0 && selection < this.themes.length) {\n      if (hass.selectedTheme !== this.themes[selection]) {\n        this.fire('settheme', this.themes[selection]);\n      }\n    } else if (selection === 0 && hass.selectedTheme !== '') {\n      this.fire('settheme', '');\n    }\n  }\n}\n\ncustomElements.define('ha-pick-theme-row', HaPickThemeRow);\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\n`<iron-label>` provides a version of the `<label>` element that works with Custom Elements as well as native elements.\n\nAll text in the `iron-label` will be applied to the target element as a screen-reader accessible description.\n\nThere are three ways to use `iron-label` to target an element:\n\n1. place an element inside iron-label and some text:\n\n        <iron-label>\n          Label for the Button\n          <paper-button>button</paper-button>\n        </iron-label>\n\n2. place some elements inside iron-label and target one with the `iron-label-target` attribute.\nThe other elements will provide the label for that element\nNote: This is not necessary if the element you want to label is the first\nelement child of iron-label:\n\n        <iron-label>\n          <span>Label for the Button</span>\n          <paper-button iron-label-target>button</paper-button>\n        </iron-label>\n\n        <iron-label>\n          <paper-button>button</paper-button>\n          <span>Label for the Button</span>\n        </iron-label>\n\n3. Set the `for` attribute on the `iron-label` element with the id of the target\nelement in the same document or ShadowRoot:\n\n        <iron-label for=\"foo\">\n          Context for the button with the \"foo\" class\"\n        </iron-label>\n        <paper-button id=\"foo\">Far away button</paper-button>\n\nAll taps on the `iron-label` will be forwarded to the \"target\" element.\n\n@group Iron Elements\n@element iron-label\n@demo demo/index.html\n@homepage polymer.github.io\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { Polymer as Polymer$0 } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { dom } from '@polymer/polymer/lib/legacy/polymer.dom.js';\n\nexport const IronLabel = Polymer$0({\n  is: 'iron-label',\n\n  listeners: {'tap': '_tapHandler'},\n\n  properties: {\n    /**\n     * An ID reference to another element that needs to be\n     * labelled by this `iron-label` element.\n     */\n    for: {\n      type: String,\n      value: '',\n      reflectToAttribute: true,\n      observer: '_forChanged'\n    },\n    /**\n     * @type {Element}\n     */\n    _forElement: Object\n  },\n\n  attached: function() {\n    this._forChanged();\n  },\n\n  ready: function() {\n    this._generateLabelId();\n  },\n\n  // generate a unique id for this element\n  _generateLabelId: function() {\n    if (!this.id) {\n      var id = 'iron-label-' + IronLabel._labelNumber++;\n      dom(this).setAttribute('id', id);\n    }\n  },\n\n  _findTarget: function() {\n    if (this.for) {\n      // external target\n      var scope = dom(this).getOwnerRoot();\n      return dom(scope).querySelector('#' + this.for);\n    } else {\n      // explicit internal target\n      var el = dom(this).querySelector('[iron-label-target]');\n      if (!el) {\n        // implicit internal target\n        el = dom(this).firstElementChild;\n      }\n      return el;\n    }\n  },\n\n  _tapHandler: function(ev) {\n    if (!this._forElement) {\n      return;\n    }\n    var target = dom(ev).localTarget;\n    if (target === this._forElement) {\n      return;\n    }\n    this._forElement.focus();\n    this._forElement.click();\n  },\n\n  _applyLabelledBy: function() {\n    if (this._forElement) {\n      dom(this._forElement).setAttribute('aria-labelledby', this.id);\n    }\n  },\n\n  _forChanged: function() {\n    if (this._forElement) {\n      dom(this._forElement).removeAttribute('aria-labelledby');\n    }\n    this._forElement = this._findTarget();\n    this._applyLabelledBy();\n  }\n});\n\n// global counter for unique label ids\nIronLabel._labelNumber = 0;\n","import '@polymer/paper-toggle-button/paper-toggle-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport EventsMixin from '../mixins/events-mixin.js';\n\nexport const pushSupported = (\n  'serviceWorker' in navigator && 'PushManager' in window &&\n  (document.location.protocol === 'https:' ||\n    document.location.hostname === 'localhost' ||\n    document.location.hostname === '127.0.0.1'));\n\n/*\n * @appliesMixin EventsMixin\n */\nclass HaPushNotificationsToggle extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <paper-toggle-button\n      disabled=\"[[_compDisabled(disabled, loading)]]\"\n      checked=\"{{pushChecked}}\"\n    ></paper-toggle-button>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: { type: Object, value: null },\n      disabled: {\n        type: Boolean,\n        value: false,\n      },\n      pushChecked: {\n        type: Boolean,\n        value: 'Notification' in window && Notification.permission === 'granted',\n        observer: 'handlePushChange',\n      },\n      loading: {\n        type: Boolean,\n        value: true,\n      }\n    };\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n\n    if (!pushSupported) return;\n\n    try {\n      const reg = await navigator.serviceWorker.ready;\n      if (!reg.pushManager) {\n        return;\n      }\n      reg.pushManager.getSubscription().then((subscription) => {\n        this.loading = false;\n        this.pushChecked = !!subscription;\n      });\n    } catch (err) {\n      // We don't set loading to `false` so we remain disabled\n    }\n  }\n\n  handlePushChange(pushChecked) {\n    // Somehow this is triggered on Safari on page load causing\n    // it to get into a loop and crash the page.\n    if (!pushSupported) return;\n\n    if (pushChecked) {\n      this.subscribePushNotifications();\n    } else {\n      this.unsubscribePushNotifications();\n    }\n  }\n\n  async subscribePushNotifications() {\n    const reg = await navigator.serviceWorker.ready;\n\n    try {\n      const sub = await reg.pushManager.subscribe({ userVisibleOnly: true });\n\n      let browserName;\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n        browserName = 'firefox';\n      } else {\n        browserName = 'chrome';\n      }\n\n      await this.hass.callApi('POST', 'notify.html5', {\n        subscription: sub,\n        browser: browserName\n      });\n    } catch (err) {\n      const message = err.message || 'Notification registration failed.';\n\n      // eslint-disable-next-line\n      console.error(err);\n\n      this.fire('hass-notification', { message });\n      this.pushChecked = false;\n    }\n  }\n\n  async unsubscribePushNotifications() {\n    const reg = await navigator.serviceWorker.ready;\n\n    try {\n      const sub = await reg.pushManager.getSubscription();\n\n      if (!sub) return;\n\n      await this.hass.callApi('DELETE', 'notify.html5', { subscription: sub });\n      await sub.unsubscribe();\n    } catch (err) {\n      const message = err.message || 'Failed unsubscribing for push notifications.';\n\n      // eslint-disable-next-line\n      console.error('Error in unsub push', err);\n\n      this.fire('hass-notification', { message });\n      this.pushChecked = true;\n    }\n  }\n\n  _compDisabled(disabled, loading) {\n    return disabled || loading;\n  }\n}\n\ncustomElements.define('ha-push-notifications-toggle', HaPushNotificationsToggle);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/iron-label/iron-label.js';\nimport '@polymer/paper-card/paper-card.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport isComponentLoaded from '../../common/config/is_component_loaded.js';\nimport { pushSupported } from '../../components/ha-push-notifications-toggle.js';\n\nimport LocalizeMixin from '../../mixins/localize-mixin.js';\n\nimport './ha-settings-row.js';\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaPushNotificationsRow extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style>\n      a { color: var(--primary-color); }\n    </style>\n    <ha-settings-row narrow='[[narrow]]'>\n      <span slot='heading'>[[localize('ui.panel.profile.push_notifications.header')]]</span>\n      <span\n        slot='description'\n      >\n        [[_description(_platformLoaded, _pushSupported)]]\n        <a\n          href='https://www.home-assistant.io/components/notify.html5/'\n          target='_blank'>[[localize('ui.panel.profile.push_notifications.link_promo')]]</a>\n      </span>\n      <ha-push-notifications-toggle\n        hass=\"[[hass]]\"\n        disabled='[[_error]]'\n      ></ha-push-notifications-toggle>\n    </ha-settings-row>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      narrow: Boolean,\n      _platformLoaded: {\n        type: Boolean,\n        computed: '_compPlatformLoaded(hass)'\n      },\n      _pushSupported: {\n        type: Boolean,\n        value: pushSupported,\n      },\n      _error: {\n        type: Boolean,\n        computed: '_compError(_platformLoaded, _pushSupported)',\n      },\n    };\n  }\n\n  _compPlatformLoaded(hass) {\n    return isComponentLoaded(hass, 'notify.html5');\n  }\n\n  _compError(platformLoaded, pushSupported_) {\n    return !platformLoaded || !pushSupported_;\n  }\n\n  _description(platformLoaded, pushSupported_) {\n    let key;\n    if (!pushSupported_) {\n      key = 'error_use_https';\n    } else if (!platformLoaded) {\n      key = 'error_load_platform';\n    } else {\n      key = 'description';\n    }\n    return this.localize(`ui.panel.profile.push_notifications.${key}`);\n  }\n}\n\ncustomElements.define('ha-push-notifications-row', HaPushNotificationsRow);\n","import '@polymer/app-layout/app-header-layout/app-header-layout.js';\nimport '@polymer/app-layout/app-header/app-header.js';\nimport '@polymer/paper-card/paper-card.js';\nimport '@polymer/paper-item/paper-item-body.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-button/paper-button.js';\nimport '@polymer/app-layout/app-toolbar/app-toolbar.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../components/ha-menu-button.js';\nimport '../../resources/ha-style.js';\n\nimport EventsMixin from '../../mixins/events-mixin.js';\n\nimport './ha-change-password-card.js';\nimport './ha-mfa-modules-card.js';\nimport './ha-pick-language-row.js';\nimport './ha-pick-theme-row.js';\nimport './ha-push-notifications-row.js';\n\n/*\n * @appliesMixin EventsMixin\n */\nclass HaPanelProfile extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style include=\"ha-style\">\n      :host {\n        -ms-user-select: initial;\n        -webkit-user-select: initial;\n        -moz-user-select: initial;\n      }\n\n      .content {\n        display: block;\n        max-width: 600px;\n        margin: 0 auto;\n      }\n\n      .content > * {\n        display: block;\n        margin: 24px 0;\n      }\n    </style>\n\n    <app-header-layout has-scrolling-region>\n      <app-header slot=\"header\" fixed>\n        <app-toolbar>\n          <ha-menu-button narrow='[[narrow]]' show-menu='[[showMenu]]'></ha-menu-button>\n          <div main-title>Profile</div>\n        </app-toolbar>\n      </app-header>\n\n      <div class='content'>\n        <paper-card heading='[[hass.user.name]]'>\n          <div class='card-content'>\n            You are currently logged in as [[hass.user.name]].\n            <template is='dom-if' if='[[hass.user.is_owner]]'>You are an owner.</template>\n          </div>\n\n          <ha-pick-language-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-pick-language-row>\n          <ha-pick-theme-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-pick-theme-row>\n          <ha-push-notifications-row\n            narrow=\"[[narrow]]\"\n            hass=\"[[hass]]\"\n          ></ha-push-notifications-row>\n\n          <div class='card-actions'>\n            <paper-button\n              class='warning'\n              on-click='_handleLogOut'\n            >Log out</paper-button>\n          </div>\n        </paper-card>\n\n        <template is=\"dom-if\" if=\"[[_canChangePassword(hass.user)]]\">\n          <ha-change-password-card hass=\"[[hass]]\"></ha-change-password-card>\n        </template>\n\n        <ha-mfa-modules-card hass='[[hass]]' mfa-modules='[[hass.user.mfa_modules]]'></ha-mfa-modules-card>\n      </div>\n    </app-header-layout>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      narrow: Boolean,\n      showMenu: Boolean,\n    };\n  }\n\n  _handleLogOut() {\n    this.fire('hass-logout');\n  }\n\n  _canChangePassword(user) {\n    return user.credentials.some(cred => cred.auth_provider_type === 'homeassistant');\n  }\n}\n\ncustomElements.define('ha-panel-profile', HaPanelProfile);\n"],"sourceRoot":""}