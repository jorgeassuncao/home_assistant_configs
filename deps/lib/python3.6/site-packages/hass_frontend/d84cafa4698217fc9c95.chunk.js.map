{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-behavior.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js","webpack:///./node_modules/@polymer/paper-dialog/paper-dialog.js","webpack:///./src/panels/config/users/ha-dialog-add-user.js"],"names":["_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__","__webpack_require__","PaperDialogBehaviorImpl","hostAttributes","role","tabindex","properties","modal","type","Boolean","value","__readied","observers","listeners","tap","ready","this","__prevNoCancelOnOutsideClick","noCancelOnOutsideClick","__prevNoCancelOnEscKey","noCancelOnEscKey","__prevWithBackdrop","withBackdrop","_modalChanged","readied","_updateClosingReasonConfirmed","confirmed","closingReason","_onDialogClick","event","path","Object","b","i","l","indexOf","target","hasAttribute","close","stopPropagation","PaperDialogBehavior","_polymer_iron_overlay_behavior_iron_overlay_behavior_js__WEBPACK_IMPORTED_MODULE_1__","a","$_documentContainer","document","createElement","setAttribute","innerHTML","head","appendChild","content","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__","_template","is","behaviors","_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_2__","_polymer_neon_animation_neon_animation_runner_behavior_js__WEBPACK_IMPORTED_MODULE_1__","neon-animation-finish","_renderOpened","cancelAnimation","playAnimation","_renderClosed","_onNeonAnimationFinish","opened","_finishRenderOpened","_finishRenderClosed","customElements","define","_mixins_localize_mixin_js__WEBPACK_IMPORTED_MODULE_6__","_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_4__","template","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_3__","_hass","_dialogClosedCallback","Function","_loading","_errorMsg","String","_opened","_name","_username","_password","super","addEventListener","ev","keyCode","_createUser","showDialog","hass","dialogClosedCallback","setTimeout","shadowRoot","querySelector","focus","_maybePopulateUsername","parts","split","length","toLowerCase","[object Object]","userId","callWS","name","user","id","err","code","user_id","username","password","_dialogDone","setProperties","_equals","_openedChanged","detail"],"mappings":"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","file":"d84cafa4698217fc9c95.chunk.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { IronOverlayBehavior } from '@polymer/iron-overlay-behavior/iron-overlay-behavior.js';\nimport { dom } from '@polymer/polymer/lib/legacy/polymer.dom.js';\n\n/**\n  Use `Polymer.PaperDialogBehavior` and `paper-dialog-shared-styles.html` to\n  implement a Material Design dialog.\n\n  For example, if `<paper-dialog-impl>` implements this behavior:\n\n      <paper-dialog-impl>\n          <h2>Header</h2>\n          <div>Dialog body</div>\n          <div class=\"buttons\">\n              <paper-button dialog-dismiss>Cancel</paper-button>\n              <paper-button dialog-confirm>Accept</paper-button>\n          </div>\n      </paper-dialog-impl>\n\n  `paper-dialog-shared-styles.html` provide styles for a header, content area, and\n  an action area for buttons. Use the `<h2>` tag for the header and the `buttons`\n  class for the action area. You can use the `paper-dialog-scrollable` element (in\n  its own repository) if you need a scrolling content area.\n\n  Use the `dialog-dismiss` and `dialog-confirm` attributes on interactive controls\n  to close the dialog. If the user dismisses the dialog with `dialog-confirm`, the\n  `closingReason` will update to include `confirmed: true`.\n\n  ### Accessibility\n\n  This element has `role=\"dialog\"` by default. Depending on the context, it may be\n  more appropriate to override this attribute with `role=\"alertdialog\"`.\n\n  If `modal` is set, the element will prevent the focus from exiting the element.\n  It will also ensure that focus remains in the dialog.\n\n  @hero hero.svg\n  @demo demo/index.html\n  @polymerBehavior Polymer.PaperDialogBehavior\n */\nexport const PaperDialogBehaviorImpl = {\n\n  hostAttributes: {'role': 'dialog', 'tabindex': '-1'},\n\n  properties: {\n\n    /**\n     * If `modal` is true, this implies `no-cancel-on-outside-click`,\n     * `no-cancel-on-esc-key` and `with-backdrop`.\n     */\n    modal: {type: Boolean, value: false},\n\n    __readied: {type: Boolean, value: false}\n\n  },\n\n  observers: ['_modalChanged(modal, __readied)'],\n\n  listeners: {'tap': '_onDialogClick'},\n\n  /**\n   * @return {void}\n   */\n  ready: function() {\n    // Only now these properties can be read.\n    this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n    this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n    this.__prevWithBackdrop = this.withBackdrop;\n    this.__readied = true;\n  },\n\n  _modalChanged: function(modal, readied) {\n    // modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.\n    // We need to wait for the element to be ready before we can read the\n    // properties values.\n    if (!readied) {\n      return;\n    }\n\n    if (modal) {\n      this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n      this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n      this.__prevWithBackdrop = this.withBackdrop;\n      this.noCancelOnOutsideClick = true;\n      this.noCancelOnEscKey = true;\n      this.withBackdrop = true;\n    } else {\n      // If the value was changed to false, let it false.\n      this.noCancelOnOutsideClick =\n          this.noCancelOnOutsideClick && this.__prevNoCancelOnOutsideClick;\n      this.noCancelOnEscKey =\n          this.noCancelOnEscKey && this.__prevNoCancelOnEscKey;\n      this.withBackdrop = this.withBackdrop && this.__prevWithBackdrop;\n    }\n  },\n\n  _updateClosingReasonConfirmed: function(confirmed) {\n    this.closingReason = this.closingReason || {};\n    this.closingReason.confirmed = confirmed;\n  },\n\n  /**\n   * Will dismiss the dialog if user clicked on an element with dialog-dismiss\n   * or dialog-confirm attribute.\n   */\n  _onDialogClick: function(event) {\n    // Search for the element with dialog-confirm or dialog-dismiss,\n    // from the root target until this (excluded).\n    var path = dom(event).path;\n    for (var i = 0, l = path.indexOf(this); i < l; i++) {\n      var target = path[i];\n      if (target.hasAttribute &&\n          (target.hasAttribute('dialog-dismiss') ||\n           target.hasAttribute('dialog-confirm'))) {\n        this._updateClosingReasonConfirmed(\n            target.hasAttribute('dialog-confirm'));\n        this.close();\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n\n};\n\n/** @polymerBehavior */\nexport const PaperDialogBehavior = [IronOverlayBehavior, PaperDialogBehaviorImpl];\n","import '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport '@polymer/paper-styles/shadow.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-dialog-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was \\`:host > ::content h2\\`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\n### Styling\n\nThe following custom properties and mixins are available for styling.\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-background-color` | Dialog background color                     | `--primary-background-color`\n`--paper-dialog-color`            | Dialog foreground color                     | `--primary-text-color`\n`--paper-dialog`                  | Mixin applied to the dialog                 | `{}`\n`--paper-dialog-title`            | Mixin applied to the title (`<h2>`) element | `{}`\n`--paper-dialog-button-color`     | Button area foreground color                | `--default-primary-color`\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n;\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\nMaterial design: [Dialogs](https://www.google.com/design/spec/components/dialogs.html)\n\n`<paper-dialog>` is a dialog with Material Design styling and optional animations when it is\nopened or closed. It provides styles for a header, content area, and an action area for buttons.\nYou can use the `<paper-dialog-scrollable>` element (in its own repository) if you need a scrolling\ncontent area. To autofocus a specific child element after opening the dialog, give it the `autofocus`\nattribute. See `Polymer.PaperDialogBehavior` and `Polymer.IronOverlayBehavior` for specifics.\n\nFor example, the following code implements a dialog with a header, scrolling content area and\nbuttons. Focus will be given to the `dialog-confirm` button when the dialog is opened.\n\n    <paper-dialog>\n      <h2>Header</h2>\n      <paper-dialog-scrollable>\n        Lorem ipsum...\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button dialog-dismiss>Cancel</paper-button>\n        <paper-button dialog-confirm autofocus>Accept</paper-button>\n      </div>\n    </paper-dialog>\n\n### Styling\n\nSee the docs for `Polymer.PaperDialogBehavior` for the custom properties available for styling\nthis element.\n\n### Animations\n\nSet the `entry-animation` and/or `exit-animation` attributes to add an animation when the dialog\nis opened or closed. See the documentation in\n[PolymerElements/neon-animation](https://github.com/PolymerElements/neon-animation) for more info.\n\nFor example:\n\n    <link rel=\"import\" href=\"components/neon-animation/animations/scale-up-animation.html\">\n    <link rel=\"import\" href=\"components/neon-animation/animations/fade-out-animation.html\">\n\n    <paper-dialog entry-animation=\"scale-up-animation\"\n                  exit-animation=\"fade-out-animation\">\n      <h2>Header</h2>\n      <div>Dialog body</div>\n    </paper-dialog>\n\n### Accessibility\n\nSee the docs for `Polymer.PaperDialogBehavior` for accessibility features implemented by this\nelement.\n\n@group Paper Elements\n@element paper-dialog\n@hero hero.svg\n@demo demo/index.html\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { NeonAnimationRunnerBehavior } from '@polymer/neon-animation/neon-animation-runner-behavior.js';\nimport { PaperDialogBehavior } from '@polymer/paper-dialog-behavior/paper-dialog-behavior.js';\nimport '@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style include=\"paper-dialog-shared-styles\"></style>\n    <slot></slot>\n`,\n\n  is: 'paper-dialog',\n  behaviors: [PaperDialogBehavior, NeonAnimationRunnerBehavior],\n  listeners: {'neon-animation-finish': '_onNeonAnimationFinish'},\n\n  _renderOpened: function() {\n    this.cancelAnimation();\n    this.playAnimation('entry');\n  },\n\n  _renderClosed: function() {\n    this.cancelAnimation();\n    this.playAnimation('exit');\n  },\n\n  _onNeonAnimationFinish: function() {\n    if (this.opened) {\n      this._finishRenderOpened();\n    } else {\n      this._finishRenderClosed();\n    }\n  }\n});\n","import '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-dialog/paper-dialog.js';\nimport '@polymer/paper-spinner/paper-spinner.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../resources/ha-style.js';\n\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaDialogAddUser extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style include=\"ha-style-dialog\">\n      .error {\n        color: red;\n      }\n      paper-dialog {\n        max-width: 500px;\n      }\n      .username {\n        margin-top: -8px;\n      }\n    </style>\n    <paper-dialog id=\"dialog\" with-backdrop opened=\"{{_opened}}\" on-opened-changed=\"_openedChanged\">\n      <h2>Add user</h2>\n      <div>\n        <template is=\"dom-if\" if=\"[[_errorMsg]]\">\n          <div class='error'>[[_errorMsg]]</div>\n        </template>\n        <paper-input\n          class='name'\n          label='Name'\n          value='{{_name}}'\n          required\n          auto-validate\n          error-message='Required'\n          on-blur='_maybePopulateUsername'\n        ></paper-input>\n        <paper-input\n          class='username'\n          label='Username'\n          value='{{_username}}'\n          required\n          auto-validate\n          error-message='Required'\n        ></paper-input>\n        <paper-input\n          label='Password'\n          type='password'\n          value='{{_password}}'\n          required\n          auto-validate\n          error-message='Required'\n        ></paper-input>\n      </div>\n      <div class=\"buttons\">\n        <template is=\"dom-if\" if=\"[[_loading]]\">\n          <div class='submit-spinner'><paper-spinner active></paper-spinner></div>\n        </template>\n        <template is=\"dom-if\" if=\"[[!_loading]]\">\n          <paper-button on-click=\"_createUser\">Create</paper-button>\n        </template>\n      </div>\n    </paper-dialog>\n`;\n  }\n\n  static get properties() {\n    return {\n      _hass: Object,\n      _dialogClosedCallback: Function,\n\n      _loading: {\n        type: Boolean,\n        value: false,\n      },\n\n      // Error message when can't talk to server etc\n      _errorMsg: String,\n\n      _opened: {\n        type: Boolean,\n        value: false,\n      },\n\n      _name: String,\n      _username: String,\n      _password: String,\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener('keypress', (ev) => {\n      if (ev.keyCode === 13) {\n        this._createUser();\n      }\n    });\n  }\n\n  showDialog({ hass, dialogClosedCallback }) {\n    this.hass = hass;\n    this._dialogClosedCallback = dialogClosedCallback;\n    this._loading = false;\n    this._opened = true;\n    setTimeout(() => this.shadowRoot.querySelector('paper-input').focus(), 0);\n  }\n\n  _maybePopulateUsername() {\n    if (this._username) return;\n\n    const parts = this._name.split(' ');\n\n    if (parts.length) {\n      this._username = parts[0].toLowerCase();\n    }\n  }\n\n  async _createUser() {\n    if (!this._name || !this._username || !this._password) return;\n\n    this._loading = true;\n    this._errorMsg = null;\n\n    let userId;\n\n    try {\n      const userResponse = await this.hass.callWS({\n        type: 'config/auth/create',\n        name: this._name,\n      });\n      userId = userResponse.user.id;\n    } catch (err) {\n      this._loading = false;\n      this._errorMsg = err.code;\n      return;\n    }\n\n    try {\n      await this.hass.callWS({\n        type: 'config/auth_provider/homeassistant/create',\n        user_id: userId,\n        username: this._username,\n        password: this._password,\n      });\n    } catch (err) {\n      this._loading = false;\n      this._errorMsg = err.code;\n      await this.hass.callWS({\n        type: 'config/auth/delete',\n        user_id: userId,\n      });\n      return;\n    }\n\n    this._dialogDone(userId);\n  }\n\n  _dialogDone(userId) {\n    this._dialogClosedCallback({ userId });\n\n    this.setProperties({\n      _errorMsg: null,\n      _username: '',\n      _password: '',\n      _dialogClosedCallback: null,\n      _opened: false,\n    });\n  }\n\n  _equals(a, b) {\n    return a === b;\n  }\n\n  _openedChanged(ev) {\n    // Closed dialog by clicking on the overlay\n    // Check against dialogClosedCallback to make sure we didn't change\n    // programmatically\n    if (this._dialogClosedCallback && !ev.detail.value) {\n      this._dialogDone();\n    }\n  }\n}\n\ncustomElements.define('ha-dialog-add-user', HaDialogAddUser);\n"],"sourceRoot":""}